<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IRSOL: /home/runner/work/irsol-camera/irsol-camera/src/irsol/include/irsol/server/app.hpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IRSOL
   </div>
   <div id="projectbrief">C++ code implementing socket server for interacting with Baumer camera.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/d31/_2home_2runner_2work_2irsol-camera_2irsol-camera_2src_2irsol_2include_2irsol_2server_2app_8hpp-example.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">/home/runner/work/irsol-camera/irsol-camera/src/irsol/include/irsol/server/app.hpp</div></div>
</div><!--header-->
<div class="contents">
<p>Template function to register a message handler.</p>
<p>Template function to register a message handler.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>Identifier for the message type </td></tr>
    <tr><td class="paramname">args</td><td>Arguments for the handler constructor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is templated to handle different message types and handlers.</dd></dl>
<div class="fragment"><div class="line">   registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryFRHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
<div class="line">   registerMessageHandler&lt;protocol::Command, handlers::CommandFRHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx,</div>
<div class="line">   anotherParamForCommandFRHandler);</div>
<div class="line"> */</div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> InMessageT, <span class="keyword">typename</span> HandlerT, <span class="keyword">typename</span>... Args&gt;</div>
<div class="line"><span class="keywordtype">void</span> registerMessageHandler(<span class="keyword">const</span> std::string&amp; identifier, Args&amp;&amp;... args)</div>
<div class="line">{</div>
<div class="line">  <span class="keyword">auto</span>  handler        = handlers::makeHandler&lt;HandlerT&gt;(std::forward&lt;Args&gt;(args)...);</div>
<div class="line">  <span class="keyword">auto</span>&amp; messageHandler = *m_messageHandler;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span>(!messageHandler.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line">    <a id="a0" name="a0"></a><a class="code hl_define" href="../../d0/da9/logging_8hpp.html#a12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register handler for identifier {}&quot;</span>, identifier);</div>
<div class="line">    <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to register handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="ttc" id="alogging_8hpp_html_a12a839278fd4290a53aa7b0f9f9263b5"><div class="ttname"><a href="../../d0/da9/logging_8hpp.html#a12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a></div><div class="ttdeci">#define IRSOL_LOG_FATAL(...)</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00027">logging.hpp:27</a></div></div>
</div><!-- fragment --><p> cpp registerLambdaHandler&lt;protocol::Command&gt;( "lambda_command", ctx, []( handlers::Context&amp; ctx, const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a168d50788eacdb44d8f1939cd9e6f09a">irsol::types::client_id_t</a>&amp; clientId, protocol::Command&amp;&amp; cmd) -&gt; std::vector&lt;protocol::OutMessage&gt; { // Handle the command return {...}; } );</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dd/d61/interface_8hpp.html">irsol/camera/interface.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d8/dc6/acceptor_8hpp.html">irsol/server/acceptor.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d2/dfe/client_8hpp.html">irsol/server/client.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d2d/factory_8hpp.html">irsol/server/handlers/factory.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d1/df2/image__collector_8hpp.html">irsol/server/image_collector.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d84/message__handler_8hpp.html">irsol/server/message_handler.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../dd/de3/types_8hpp.html">irsol/types.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../d7/ddb/namespaceirsol.html">irsol</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>server {</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Forward declaration</span></div>
<div class="line"><span class="keyword">class </span>ClientSession;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>App</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">using </span><a id="a0" name="a0"></a><a class="code hl_typedef" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a> =</div>
<div class="line">    std::unordered_map&lt;irsol::types::client_id_t, std::shared_ptr&lt;ClientSession&gt;&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">explicit</span> App(<a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#ac84771f861b50f9e38976ca7b1e22691">irsol::types::port_t</a> port);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> <a id="a1" name="a1"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a8fb6f6293e0934c50607bd4d3484ead6">start</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a id="a2" name="a2"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a8a7eab0392bb9b77fdaecf8cea61c771">stop</a>();</div>
<div class="line"> </div>
<div class="line">  std::shared_ptr&lt;ClientSession&gt; <a id="a3" name="a3"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a77e659b496f5b52147e866441a9e79c0">getClientSession</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a168d50788eacdb44d8f1939cd9e6f09a">irsol::types::client_id_t</a>&amp; clientId);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a id="a4" name="a4"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a82a57dc3845931c5545de504eac102e0">broadcastMessage</a>(</div>
<div class="line">    <a id="a5" name="a5"></a><a class="code hl_typedef" href="../../db/dff/namespaceirsol_1_1protocol.html#a9f9e0d98cc4cf09baf10d9a0f6e06f66">protocol::OutMessage</a>&amp;&amp;                          message,</div>
<div class="line">    <span class="keyword">const</span> std::optional&lt;irsol::types::client_id_t&gt;&amp; excludeClient = std::nullopt);</div>
<div class="line"> </div>
<div class="line">  camera::Interface&amp; <a id="a6" name="a6"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a3d467f15aaac7fb128455f76e3aebf3b">camera</a>()</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> *<a id="a7" name="a7"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>;</div>
<div class="line">  };</div>
<div class="line">  frame_collector::FrameCollector&amp; <a id="a8" name="a8"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a740cd3948f39494ec70ffe96f7814c87">frameCollector</a>()</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">return</span> *<a id="a9" name="a9"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>;</div>
<div class="line">  };</div>
<div class="line">  <span class="keyword">const</span> handlers::MessageHandler&amp; <a id="a10" name="a10"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword">  </span>{</div>
<div class="line">    <span class="keywordflow">return</span> *<a id="a11" name="a11"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#ac84771f861b50f9e38976ca7b1e22691">irsol::types::port_t</a> <a id="a12" name="a12"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>;</div>
<div class="line"> </div>
<div class="line">  <a id="_a13" name="_a13"></a><a class="code hl_class" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html">irsol::server::internal::ClientSessionAcceptor</a> <a id="a14" name="a14"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>;</div>
<div class="line"> </div>
<div class="line">  std::thread <a id="a15" name="a15"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a>;</div>
<div class="line"> </div>
<div class="line">  std::mutex <a id="a16" name="a16"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_typedef" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a> <a id="a17" name="a17"></a><a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>;</div>
<div class="line"> </div>
<div class="line">  std::unique_ptr&lt;camera::Interface&gt; <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>;</div>
<div class="line"> </div>
<div class="line">  std::unique_ptr&lt;frame_collector::FrameCollector&gt; <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>;</div>
<div class="line"> </div>
<div class="line">  std::unique_ptr&lt;handlers::MessageHandler&gt; <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a id="a18" name="a18"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">addClient</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a168d50788eacdb44d8f1939cd9e6f09a">irsol::types::client_id_t</a>&amp; clientId, <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a603fdaa8db70e99120e1752b229b4585">irsol::types::socket_t</a>&amp;&amp; sock);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a id="a19" name="a19"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">removeClient</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a168d50788eacdb44d8f1939cd9e6f09a">irsol::types::client_id_t</a>&amp; clientId);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a id="a20" name="a20"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">registerMessageHandlers</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> InMessageT, <span class="keyword">typename</span> HandlerT, <span class="keyword">typename</span>... Args&gt;</div>
<div class="line">  <span class="keywordtype">void</span> registerMessageHandler(<span class="keyword">const</span> std::string&amp; identifier, Args&amp;&amp;... args)</div>
<div class="line">  {</div>
<div class="line">    <span class="keyword">auto</span>  handler        = <a id="a21" name="a21"></a><a class="code hl_function" href="../../d9/da2/namespaceirsol_1_1server_1_1handlers.html#a537a231d55a358298c52f340e42b4f8d">handlers::makeHandler&lt;HandlerT&gt;</a>(std::forward&lt;Args&gt;(args)...);</div>
<div class="line">    <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> = *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line">      <a class="code hl_define" href="../../d0/da9/logging_8hpp.html#a12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register handler for identifier {}&quot;</span>, identifier);</div>
<div class="line">      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to register handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> InMessageT, <span class="keyword">typename</span> LambdaT&gt;</div>
<div class="line">  <span class="keywordtype">void</span></div>
<div class="line">  <a id="a22" name="a22"></a><a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab769714cca25b178b08c7aaf554af602">registerLambdaHandler</a>(<span class="keyword">const</span> std::string&amp; identifier, handlers::Context&amp; ctx, LambdaT&amp;&amp; lambda)</div>
<div class="line">  {</div>
<div class="line">    <span class="keyword">auto</span>  handler = <a class="code hl_function" href="../../d9/da2/namespaceirsol_1_1server_1_1handlers.html#a537a231d55a358298c52f340e42b4f8d">handlers::makeLambdaHandler&lt;InMessageT&gt;</a>(ctx, std::forward&lt;LambdaT&gt;(lambda));</div>
<div class="line">    <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> = *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line">      <a class="code hl_define" href="../../d0/da9/logging_8hpp.html#a12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register lambda handler for identifier {}&quot;</span>, identifier);</div>
<div class="line">      <span class="keywordflow">throw</span> std::runtime_error(</div>
<div class="line">        <span class="stringliteral">&quot;Failed to register lambda handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line">}  <span class="comment">// namespace server</span></div>
<div class="line">}  <span class="comment">// namespace irsol</span></div>
<div class="ttc" id="aacceptor_8hpp_html"><div class="ttname"><a href="../../d8/dc6/acceptor_8hpp.html">acceptor.hpp</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">irsol::server::App::m_port</a></div><div class="ttdeci">const irsol::types::port_t m_port</div><div class="ttdoc">TCP port on which the server listens for incoming connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00099">app.hpp:99</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a2ae5d9838d0487da826386234ff2f481"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">irsol::server::App::client_map_t</a></div><div class="ttdeci">std::unordered_map&lt; irsol::types::client_id_t, std::shared_ptr&lt; ClientSession &gt; &gt; client_map_t</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00035">app.hpp:36</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a2fb7bb9c0a96f8585750770880181d12"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">irsol::server::App::m_acceptor</a></div><div class="ttdeci">irsol::server::internal::ClientSessionAcceptor m_acceptor</div><div class="ttdoc">Acceptor for new client connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00102">app.hpp:102</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a3d467f15aaac7fb128455f76e3aebf3b"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a3d467f15aaac7fb128455f76e3aebf3b">irsol::server::App::camera</a></div><div class="ttdeci">camera::Interface &amp; camera()</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00084">app.hpp:84</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a488466726e84fb900a31d999986bc7a8"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">irsol::server::App::messageHandler</a></div><div class="ttdeci">const handlers::MessageHandler &amp; messageHandler() const</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00092">app.hpp:92</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a4cde018a00938a5c940874d8469944be"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">irsol::server::App::m_acceptThread</a></div><div class="ttdeci">std::thread m_acceptThread</div><div class="ttdoc">Thread that runs the acceptor for new clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00105">app.hpp:105</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a5e78a84334dc310a6012fc1288fb5e1d"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">irsol::server::App::addClient</a></div><div class="ttdeci">void addClient(const irsol::types::client_id_t &amp;clientId, irsol::types::socket_t &amp;&amp;sock)</div><div class="ttdoc">Registers a new client session.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00086">app.cpp:86</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a73d8272bb6c2ddd147d1a4e37e76df61"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">irsol::server::App::m_frameCollector</a></div><div class="ttdeci">std::unique_ptr&lt; frame_collector::FrameCollector &gt; m_frameCollector</div><div class="ttdoc">Owned collector that captures frames and dispatches them to clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00117">app.hpp:117</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a740cd3948f39494ec70ffe96f7814c87"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a740cd3948f39494ec70ffe96f7814c87">irsol::server::App::frameCollector</a></div><div class="ttdeci">frame_collector::FrameCollector &amp; frameCollector()</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00088">app.hpp:88</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a77e659b496f5b52147e866441a9e79c0"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a77e659b496f5b52147e866441a9e79c0">irsol::server::App::getClientSession</a></div><div class="ttdeci">std::shared_ptr&lt; ClientSession &gt; getClientSession(const irsol::types::client_id_t &amp;clientId)</div><div class="ttdoc">Retrieves a client session by its unique identifier.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00054">app.cpp:54</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a82a57dc3845931c5545de504eac102e0"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a82a57dc3845931c5545de504eac102e0">irsol::server::App::broadcastMessage</a></div><div class="ttdeci">void broadcastMessage(protocol::OutMessage &amp;&amp;message, const std::optional&lt; irsol::types::client_id_t &gt; &amp;excludeClient=std::nullopt)</div><div class="ttdoc">Broadcasts a message to all connected client sessions.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00062">app.cpp:62</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a8a7eab0392bb9b77fdaecf8cea61c771"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a8a7eab0392bb9b77fdaecf8cea61c771">irsol::server::App::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stops the server: shuts down accepting new clients and all active sessions.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00040">app.cpp:40</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a8fb6f6293e0934c50607bd4d3484ead6"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a8fb6f6293e0934c50607bd4d3484ead6">irsol::server::App::start</a></div><div class="ttdeci">bool start()</div><div class="ttdoc">Starts the server: begins listening and accepting clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00027">app.cpp:27</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a920eb334b2900034e980ed10e30e2e19"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">irsol::server::App::registerMessageHandlers</a></div><div class="ttdeci">void registerMessageHandlers()</div><div class="ttdoc">Registers message handlers for the server.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00133">app.cpp:133</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab61e4a18c68ab29e90f79d2724b2511c"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">irsol::server::App::m_clients</a></div><div class="ttdeci">client_map_t m_clients</div><div class="ttdoc">Maps client IDs to their active ClientSession instances.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00111">app.hpp:111</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab72d585f1aacd9b927a204a0de2c049e"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">irsol::server::App::m_cameraInterface</a></div><div class="ttdeci">std::unique_ptr&lt; camera::Interface &gt; m_cameraInterface</div><div class="ttdoc">Owned interface to the camera hardware.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00114">app.hpp:114</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab769714cca25b178b08c7aaf554af602"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab769714cca25b178b08c7aaf554af602">irsol::server::App::registerLambdaHandler</a></div><div class="ttdeci">void registerLambdaHandler(const std::string &amp;identifier, handlers::Context &amp;ctx, LambdaT &amp;&amp;lambda)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00201">app.hpp:201</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ac6b7241370a0cdb0074a1aec0fd03ee5"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">irsol::server::App::removeClient</a></div><div class="ttdeci">void removeClient(const irsol::types::client_id_t &amp;clientId)</div><div class="ttdoc">Unregisters a disconnected client.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00117">app.cpp:117</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ad5f4d7bd76d883153b5e7435c10e4390"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">irsol::server::App::m_clientsMutex</a></div><div class="ttdeci">std::mutex m_clientsMutex</div><div class="ttdoc">Protects concurrent access to the client sessions map.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00108">app.hpp:108</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_aea70dd9a2207e836b59bd92c899d1d93"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">irsol::server::App::m_messageHandler</a></div><div class="ttdeci">std::unique_ptr&lt; handlers::MessageHandler &gt; m_messageHandler</div><div class="ttdoc">Message handler for incoming messages.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00120">app.hpp:120</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html">irsol::server::internal::ClientSessionAcceptor</a></div><div class="ttdoc">Accepts incoming TCP connections and creates forwards the underlying connection to the callback.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dc6/acceptor_8hpp_source.html#l00026">acceptor.hpp:27</a></div></div>
<div class="ttc" id="aclient_8hpp_html"><div class="ttname"><a href="../../d2/dfe/client_8hpp.html">client.hpp</a></div></div>
<div class="ttc" id="afactory_8hpp_html"><div class="ttname"><a href="../../dc/d2d/factory_8hpp.html">factory.hpp</a></div></div>
<div class="ttc" id="aimage__collector_8hpp_html"><div class="ttname"><a href="../../d1/df2/image__collector_8hpp.html">image_collector.hpp</a></div></div>
<div class="ttc" id="ainterface_8hpp_html"><div class="ttname"><a href="../../dd/d61/interface_8hpp.html">interface.hpp</a></div></div>
<div class="ttc" id="amessage__handler_8hpp_html"><div class="ttname"><a href="../../dc/d84/message__handler_8hpp.html">message_handler.hpp</a></div></div>
<div class="ttc" id="anamespaceirsol_1_1protocol_html_a9f9e0d98cc4cf09baf10d9a0f6e06f66"><div class="ttname"><a href="../../db/dff/namespaceirsol_1_1protocol.html#a9f9e0d98cc4cf09baf10d9a0f6e06f66">irsol::protocol::OutMessage</a></div><div class="ttdeci">std::variant&lt; Success, BinaryDataBuffer, ImageBinaryData, ColorImageBinaryData, Error &gt; OutMessage</div><div class="ttdoc">Represents any outgoing message type sent in response.</div><div class="ttdef"><b>Definition</b> <a href="../../df/d55/variants_8hpp_source.html#l00103">variants.hpp:104</a></div></div>
<div class="ttc" id="anamespaceirsol_1_1server_1_1handlers_html_a537a231d55a358298c52f340e42b4f8d"><div class="ttname"><a href="../../d9/da2/namespaceirsol_1_1server_1_1handlers.html#a537a231d55a358298c52f340e42b4f8d">irsol::server::handlers::makeHandler</a></div><div class="ttdeci">constexpr auto makeHandler(Context &amp;ctx, Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d2d/factory_8hpp_source.html#l00012">factory.hpp:12</a></div></div>
<div class="ttc" id="anamespaceirsol_1_1types_html_a168d50788eacdb44d8f1939cd9e6f09a"><div class="ttname"><a href="../../d9/d2e/namespaceirsol_1_1types.html#a168d50788eacdb44d8f1939cd9e6f09a">irsol::types::client_id_t</a></div><div class="ttdeci">std::string client_id_t</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de3/types_8hpp_source.html#l00016">types.hpp:16</a></div></div>
<div class="ttc" id="anamespaceirsol_1_1types_html_a603fdaa8db70e99120e1752b229b4585"><div class="ttname"><a href="../../d9/d2e/namespaceirsol_1_1types.html#a603fdaa8db70e99120e1752b229b4585">irsol::types::socket_t</a></div><div class="ttdeci">sockpp::tcp_socket socket_t</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de3/types_8hpp_source.html#l00021">types.hpp:21</a></div></div>
<div class="ttc" id="anamespaceirsol_1_1types_html_ac84771f861b50f9e38976ca7b1e22691"><div class="ttname"><a href="../../d9/d2e/namespaceirsol_1_1types.html#ac84771f861b50f9e38976ca7b1e22691">irsol::types::port_t</a></div><div class="ttdeci">uint16_t port_t</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de3/types_8hpp_source.html#l00015">types.hpp:15</a></div></div>
<div class="ttc" id="anamespaceirsol_html"><div class="ttname"><a href="../../d7/ddb/namespaceirsol.html">irsol</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d54/assert_8hpp_source.html#l00029">assert.hpp:29</a></div></div>
<div class="ttc" id="atypes_8hpp_html"><div class="ttname"><a href="../../dd/de3/types_8hpp.html">types.hpp</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
