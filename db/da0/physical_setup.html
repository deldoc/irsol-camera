<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IRSOL: Physical setup</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">IRSOL
   </div>
   <div id="projectbrief">C++ code implementing socket server for interacting with Baumer camera.</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/da0/physical_setup.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Physical setup</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This guide lists the steps one should take to configure a <em>Baumer VCXG.2-51M</em> camera.</p>
<p>In particular, it will show how to:</p><ul>
<li>retrieve API documentation, SDK and code examples from the <a href="https://www.baumer.com">Baumer</a> website</li>
<li>physically connect the camera to a Shuttle computer</li>
<li>run some sample programs to make sure the camera is connected correctly</li>
</ul>
<h1>API documentation and SDK access</h1>
<p>The documentation and SDK access for the <em>Baumer</em> camera is available through the <a href="https://www.baumer.com">Baumer</a> website. In particular, the following resources are useful:</p><ul>
<li><a href="https://www.baumer.com/ch/en/product-overview/industrial-cameras-image-processing/software/baumer-camera-explorer/c/42504">Baumer Camera Explorer</a>: a toolkit that allows to manage and interact with cameras connected to your system through a GUI</li>
<li><a href="https://www.baumer.com/ch/en/product-overview/industrial-cameras-image-processing/software/baumer-gapi-sdk/c/14174">Baumer GAPI SDK</a>: a <b>low level SDK</b> (available for both <code>C</code> and <code>C++</code> clients) for interacting with the <em>Baumer</em> camera programmatically.</li>
<li><a href="https://www.baumer.com/ch/en/product-overview/industrial-cameras-image-processing/software/baumer-neoapi/c/42528">Baumer neoAPI</a>: a <b>high level SDK</b> (available for both <code>C</code> and <code>C++</code> clients) for interactive with the <em>Baumer</em> camera programmatically.</li>
</ul>
<p>The <code>irsol</code> project developed within this repository is making use of the <a href="https://www.baumer.com/ch/en/product-overview/industrial-cameras-image-processing/software/baumer-neoapi/c/42528">Baumer neoAPI</a> as an SDK to interact with the physical camera. Documentation for that SDK is available <a href="../../../../src/external/neoapi/docs/index.html">here</a>.</p>
<h1>Physical configuration</h1>
<p>The following diagram is a schematic representation of how one needs to connect the <em>Baumer</em> camera to the host PC. This setup includes:</p><ul>
<li>the <em>Baumer</em> camera</li>
<li>a Gigabit PoE Switch (note, PoE stands for <em>Power over Ethernet</em>, and in our case it is necessary in order to power and connect to the camera via a single physical connection)</li>
<li>a Shuttle PC</li>
<li>ethernet cables connecting the components together</li>
</ul>
<p><img src="../.././resources/Physical-setup.png" alt="Physical-setup" class="inline"/></p>
<p>Once the different parts are connected together, you should see that the <em>Baumer</em> camera has a single green light (non-blinking) turned on. If you see a blinking led, the connection is incorrect.</p>
<h2>IP configuration</h2>
<p>A critical part for allowing the Shuttle PC to connect to the <em>Baumer</em> camera, relies in making sure the two components have "compatible" IP addresses. In particular, the following network configuration is necessary (to be configure only once):</p><ul>
<li>Shuttle PC network port IP and Subnet configuration</li>
<li>Camera IP and Subnet configuration</li>
</ul>
<h3>Shuttle network configuration</h3>
<p>Assuming the network interface of the Shuttle PC against which the ethernet cable is connected is <code>eth1</code> , you can check the IP configuration of that port via: </p><div class="fragment"><div class="line">$&gt; ip a show eth1</div>
<div class="line"> </div>
<div class="line">3: eth1: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state UP group default qlen 1000</div>
<div class="line">    link/ether 80:ee:73:e5:82:6a brd ff:ff:ff:ff:ff:ff</div>
<div class="line">    inet 192.168.1.1/24 brd 192.168.1.255 scope global eth1</div>
<div class="line">       valid_lft forever preferred_lft forever</div>
<div class="line">    inet6 fe80::82ee:73ff:fee5:826a/64 scope link</div>
<div class="line">       valid_lft forever preferred_lft forever</div>
</div><!-- fragment --><p>In the above example, we understand that the <code>eth1</code> network port of the Shuttle computer is mapped to the following IP address: <code>192.168.1.1</code> with a subnet mask (<code>/24</code>) corresponding to <code>255.255.255.0</code>.</p>
<h3>Camera network configuration</h3>
<p>A utility tool named <a href="../../../../src/external/neoapi/tools/gevipconfig"><code>gevipconfig</code></a> (distributed with both <code>Baumer GAPI SDK</code> and <code>Baumer neoAPI</code>, but also available for convenience in this repository inside <a href="../../../../src/external/neoapi/tools">this</a> folder) facilitates the configuration of the IP and Subnet for the <em>Baumer</em> camera. A valid IP address has to be in the subnet of the network interface card, the device is connected to and has to be unique.</p>
<p>It is possible to manually set and persist a <em>static</em> IP address to the <em>Baumer</em> camera following these steps:</p><ol type="1">
<li>Verify the current camera IP configuration by running the <code>gevipconfig</code> tool: <div class="fragment"><div class="line">$&gt; sudo ./gevipconfig</div>
<div class="line"> </div>
<div class="line"> Network Interface eth1:</div>
<div class="line"> MAC:          80:EE:73:E5:82:6A</div>
<div class="line"> Link Speed:   1000 MBit/s</div>
<div class="line"> IPv4 Address: 192.168.1.1</div>
<div class="line"> Subnet Mask:  255.255.255.0</div>
<div class="line"> GEV Camera:   Baumer - VCXG.2-51M(SN: 700011810487):</div>
<div class="line">     MAC:          00:06:be:12:27:2d</div>
<div class="line">     IPv4 Address: 192.167.10.12</div>
<div class="line">     Subnet Mask:  255.255.255.0</div>
<div class="line">     Subnet Check: Wrong subnet!</div>
</div><!-- fragment --> This should identify the connected camera, and report the following information:<ul>
<li>the <em>shuttle network interface</em> configuration:<ul>
<li>IP address (in the example <code>192.168.1.1</code>)</li>
<li>Subnet mask (in the example <code>255.255.255.0</code>)</li>
</ul>
</li>
<li>the <em>camera serial number</em> (in the example: <code>700011810487</code>)</li>
<li>the <em>camera</em> network configuration:<ul>
<li>IP address (in the example <code>192.167.10.12</code>)</li>
<li>Subnet Mask (in the example <code>255.255.0.0</code>)</li>
</ul>
</li>
<li>A verification result for the subnet-compatibility between the Shuttle and the Camera.</li>
</ul>
</li>
<li>Set the IP address and the Subnet of the <em>Baumer</em> camera to be compatible with the IP address and the Subnet of the Shuttle PC. This can be done via the following command: <div class="fragment"><div class="line">$&gt; sudo ./gevipconfig -c &lt;camera-serial-number&gt; -i &lt;desired-ip-address&gt; -s &lt;desired-subnet&gt; -p</div>
</div><!-- fragment --> <b>Note</b>: the combination of IP and subnet configurations must be a valid combination. The following are examples of correct/incorrect combinations:<ul>
<li><p class="startli">invalid: different subnet </p><div class="fragment"><div class="line">NIC: IP 192.168.1.1 Subnet 255.255.255.0</div>
<div class="line">Camera: IP 192.168.2.1 Subnet 255.255.255.0</div>
</div><!-- fragment --><ul>
<li>invalid: same subnet but also same IP address: <code> NIC: IP 192.168.1.1 Subnet 255.255.255.0 Camera: IP 192.168.1.1 Subnet 255.255.255.0 </code></li>
<li>valid: same subnet and different IP address: <code> NIC: IP 192.168.1.1 Subnet 255.255.255.0 Camera: IP 192.168.1.2 Subnet 255.255.255.0 </code></li>
</ul>
<p class="startli">To follow the valid example above, one could run the following command: <code>sh $&gt; sudo ./gevipconfig -c 700011810487 -i 192.168.1.2 -s 255.255.255.0 -p </code></p>
<p class="startli">More details are available in the <code>gevipconfig</code> documentation.</p>
</li>
</ul>
</li>
</ol>
<h2>Verification</h2>
<p>Once the camera and its network configuration has been completed, you can verify the correctness of the setup by running any of the available examples that you can build following the <a href="../../../development-environmnet-configuration/">these</a> instructions. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
