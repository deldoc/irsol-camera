<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IRSOL: irsol::server::App Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../irsol_logo.jpeg"/></td>
  <td id="projectalign">
   <div id="projectname">IRSOL
   </div>
   <div id="projectbrief">C++ code implementing socket server for interacting with Baumer camera.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/dc5/classirsol_1_1server_1_1App.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d1/d9d/classirsol_1_1server_1_1App-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">irsol::server::App Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main server application that manages client connections and camera streaming.  
 <a href="../../db/dc5/classirsol_1_1server_1_1App.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abaf05e4cfe17f02daca2cd14ebde207c" id="r_abaf05e4cfe17f02daca2cd14ebde207c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#abaf05e4cfe17f02daca2cd14ebde207c">App</a> (<a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a> port)</td></tr>
<tr class="memdesc:abaf05e4cfe17f02daca2cd14ebde207c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the server application bound to a given port.  <br /></td></tr>
<tr class="separator:abaf05e4cfe17f02daca2cd14ebde207c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb6f6293e0934c50607bd4d3484ead6" id="r_a8fb6f6293e0934c50607bd4d3484ead6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a8fb6f6293e0934c50607bd4d3484ead6">start</a> ()</td></tr>
<tr class="memdesc:a8fb6f6293e0934c50607bd4d3484ead6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the server: begins listening and accepting clients.  <br /></td></tr>
<tr class="separator:a8fb6f6293e0934c50607bd4d3484ead6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a7eab0392bb9b77fdaecf8cea61c771" id="r_a8a7eab0392bb9b77fdaecf8cea61c771"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a8a7eab0392bb9b77fdaecf8cea61c771">stop</a> ()</td></tr>
<tr class="memdesc:a8a7eab0392bb9b77fdaecf8cea61c771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the server: shuts down accepting new clients and all active sessions.  <br /></td></tr>
<tr class="separator:a8a7eab0392bb9b77fdaecf8cea61c771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e659b496f5b52147e866441a9e79c0" id="r_a77e659b496f5b52147e866441a9e79c0"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a77e659b496f5b52147e866441a9e79c0">getClientSession</a> (const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;clientId)</td></tr>
<tr class="memdesc:a77e659b496f5b52147e866441a9e79c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a client session by its unique identifier.  <br /></td></tr>
<tr class="separator:a77e659b496f5b52147e866441a9e79c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a57dc3845931c5545de504eac102e0" id="r_a82a57dc3845931c5545de504eac102e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a82a57dc3845931c5545de504eac102e0">broadcastMessage</a> (<a class="el" href="../../db/dff/namespaceirsol_1_1protocol.html#a9f9e0d98cc4cf09baf10d9a0f6e06f66">protocol::OutMessage</a> &amp;&amp;message, const std::optional&lt; <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &gt; &amp;excludeClient=std::nullopt)</td></tr>
<tr class="memdesc:a82a57dc3845931c5545de504eac102e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcasts a message to all connected client sessions.  <br /></td></tr>
<tr class="separator:a82a57dc3845931c5545de504eac102e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d467f15aaac7fb128455f76e3aebf3b" id="r_a3d467f15aaac7fb128455f76e3aebf3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a3d467f15aaac7fb128455f76e3aebf3b">camera</a> ()</td></tr>
<tr class="separator:a3d467f15aaac7fb128455f76e3aebf3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740cd3948f39494ec70ffe96f7814c87" id="r_a740cd3948f39494ec70ffe96f7814c87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a740cd3948f39494ec70ffe96f7814c87">frameCollector</a> ()</td></tr>
<tr class="separator:a740cd3948f39494ec70ffe96f7814c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488466726e84fb900a31d999986bc7a8" id="r_a488466726e84fb900a31d999986bc7a8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> () const</td></tr>
<tr class="separator:a488466726e84fb900a31d999986bc7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a2ae5d9838d0487da826386234ff2f481" id="r_a2ae5d9838d0487da826386234ff2f481"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a> = std::unordered_map&lt; <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>, std::shared_ptr&lt; <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a> &gt; &gt;</td></tr>
<tr class="separator:a2ae5d9838d0487da826386234ff2f481"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5e78a84334dc310a6012fc1288fb5e1d" id="r_a5e78a84334dc310a6012fc1288fb5e1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">addClient</a> (const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;clientId, <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#aa4bde0b5a91ffd9c2a272b8aebc64095">irsol::types::socket_t</a> &amp;&amp;sock)</td></tr>
<tr class="memdesc:a5e78a84334dc310a6012fc1288fb5e1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a new client session.  <br /></td></tr>
<tr class="separator:a5e78a84334dc310a6012fc1288fb5e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b7241370a0cdb0074a1aec0fd03ee5" id="r_ac6b7241370a0cdb0074a1aec0fd03ee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">removeClient</a> (const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;clientId)</td></tr>
<tr class="memdesc:ac6b7241370a0cdb0074a1aec0fd03ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregisters a disconnected client.  <br /></td></tr>
<tr class="separator:ac6b7241370a0cdb0074a1aec0fd03ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920eb334b2900034e980ed10e30e2e19" id="r_a920eb334b2900034e980ed10e30e2e19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">registerMessageHandlers</a> ()</td></tr>
<tr class="memdesc:a920eb334b2900034e980ed10e30e2e19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers message handlers for the server.  <br /></td></tr>
<tr class="separator:a920eb334b2900034e980ed10e30e2e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7daa71ab01c508418e0039f24e8016ed" id="r_a7daa71ab01c508418e0039f24e8016ed"><td class="memTemplParams" colspan="2">template&lt;typename InMessageT , typename HandlerT , typename... Args&gt; </td></tr>
<tr class="memitem:a7daa71ab01c508418e0039f24e8016ed"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a7daa71ab01c508418e0039f24e8016ed">registerMessageHandler</a> (const std::string &amp;identifier, Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:a7daa71ab01c508418e0039f24e8016ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template function to register a message handler.  <br /></td></tr>
<tr class="separator:a7daa71ab01c508418e0039f24e8016ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab769714cca25b178b08c7aaf554af602" id="r_ab769714cca25b178b08c7aaf554af602"><td class="memTemplParams" colspan="2">template&lt;typename InMessageT , typename LambdaT &gt; </td></tr>
<tr class="memitem:ab769714cca25b178b08c7aaf554af602"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab769714cca25b178b08c7aaf554af602">registerLambdaHandler</a> (const std::string &amp;identifier, <a class="el" href="../../d4/d2c/structirsol_1_1server_1_1handlers_1_1Context.html">handlers::Context</a> &amp;ctx, LambdaT &amp;&amp;lambda)</td></tr>
<tr class="memdesc:ab769714cca25b178b08c7aaf554af602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template function to register a lambda message handler.  <br /></td></tr>
<tr class="separator:ab769714cca25b178b08c7aaf554af602"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec" id="r_a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a></td></tr>
<tr class="memdesc:a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP port on which the server listens for incoming connections.  <br /></td></tr>
<tr class="separator:a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb7bb9c0a96f8585750770880181d12" id="r_a2fb7bb9c0a96f8585750770880181d12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html">irsol::server::internal::ClientSessionAcceptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a></td></tr>
<tr class="memdesc:a2fb7bb9c0a96f8585750770880181d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acceptor for new client connections.  <br /></td></tr>
<tr class="separator:a2fb7bb9c0a96f8585750770880181d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cde018a00938a5c940874d8469944be" id="r_a4cde018a00938a5c940874d8469944be"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a></td></tr>
<tr class="memdesc:a4cde018a00938a5c940874d8469944be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread that runs the acceptor for new clients.  <br /></td></tr>
<tr class="separator:a4cde018a00938a5c940874d8469944be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f4d7bd76d883153b5e7435c10e4390" id="r_ad5f4d7bd76d883153b5e7435c10e4390"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a></td></tr>
<tr class="memdesc:ad5f4d7bd76d883153b5e7435c10e4390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protects concurrent access to the client sessions map.  <br /></td></tr>
<tr class="separator:ad5f4d7bd76d883153b5e7435c10e4390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61e4a18c68ab29e90f79d2724b2511c" id="r_ab61e4a18c68ab29e90f79d2724b2511c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a></td></tr>
<tr class="memdesc:ab61e4a18c68ab29e90f79d2724b2511c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps client IDs to their active <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html" title="Represents a single connected client session in the server.">ClientSession</a> instances.  <br /></td></tr>
<tr class="separator:ab61e4a18c68ab29e90f79d2724b2511c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72d585f1aacd9b927a204a0de2c049e" id="r_ab72d585f1aacd9b927a204a0de2c049e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a></td></tr>
<tr class="memdesc:ab72d585f1aacd9b927a204a0de2c049e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Owned interface to the camera hardware.  <br /></td></tr>
<tr class="separator:ab72d585f1aacd9b927a204a0de2c049e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d8272bb6c2ddd147d1a4e37e76df61" id="r_a73d8272bb6c2ddd147d1a4e37e76df61"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a></td></tr>
<tr class="memdesc:a73d8272bb6c2ddd147d1a4e37e76df61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Owned collector that captures frames and dispatches them to clients.  <br /></td></tr>
<tr class="separator:a73d8272bb6c2ddd147d1a4e37e76df61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea70dd9a2207e836b59bd92c899d1d93" id="r_aea70dd9a2207e836b59bd92c899d1d93"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a></td></tr>
<tr class="memdesc:aea70dd9a2207e836b59bd92c899d1d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message handler for incoming messages.  <br /></td></tr>
<tr class="separator:aea70dd9a2207e836b59bd92c899d1d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main server application that manages client connections and camera streaming. </p>
<p><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html" title="Main server application that manages client connections and camera streaming.">App</a> listens for incoming TCP connections on a specified port, creates <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html" title="Represents a single connected client session in the server.">ClientSession</a> instances for each connected client, and orchestrates broadcasting of messages. It owns the camera interface and the FrameCollector, ensuring that captured frames are distributed to all active clients according to their needs. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00032">32</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a2ae5d9838d0487da826386234ff2f481" name="a2ae5d9838d0487da826386234ff2f481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae5d9838d0487da826386234ff2f481">&#9670;&#160;</a></span>client_map_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">irsol::server::App::client_map_t</a> =  std::unordered_map&lt;<a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>, std::shared_ptr&lt;<a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a>&gt; &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00035">35</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abaf05e4cfe17f02daca2cd14ebde207c" name="abaf05e4cfe17f02daca2cd14ebde207c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf05e4cfe17f02daca2cd14ebde207c">&#9670;&#160;</a></span>App()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">irsol::server::App::App </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the server application bound to a given port. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>TCP port to listen on for client connections. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00013">13</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   14</span>  : <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>(port)</div>
<div class="line"><span class="lineno">   15</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>(</div>
<div class="line"><span class="lineno">   16</span>      <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>,</div>
<div class="line"><span class="lineno">   17</span>      std::bind(&amp;<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">App::addClient</a>, <span class="keyword">this</span>, std::placeholders::_1, std::placeholders::_2))</div>
<div class="line"><span class="lineno">   18</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>(std::make_unique&lt;camera::Interface&gt;(<a class="code hl_function" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html#a2742473c3edfa1082bab15235e262bcc">camera::Interface::HalfResolution</a>()))</div>
<div class="line"><span class="lineno">   19</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>(std::make_unique&lt;frame_collector::FrameCollector&gt;(*<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>.get()))</div>
<div class="line"><span class="lineno">   20</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>(std::make_unique&lt;handlers::MessageHandler&gt;())</div>
<div class="line"><span class="lineno">   21</span>{</div>
<div class="line"><span class="lineno">   22</span>  <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">registerMessageHandlers</a>();</div>
<div class="line"><span class="lineno">   23</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;App ready to run on port {}&quot;</span>, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>);</div>
<div class="line"><span class="lineno">   24</span>}</div>
<div class="ttc" id="aclassirsol_1_1camera_1_1Interface_html_a2742473c3edfa1082bab15235e262bcc"><div class="ttname"><a href="../../d7/d37/classirsol_1_1camera_1_1Interface.html#a2742473c3edfa1082bab15235e262bcc">irsol::camera::Interface::HalfResolution</a></div><div class="ttdeci">static Interface HalfResolution()</div><div class="ttdef"><b>Definition</b> <a href="../../db/db7/interface_8cpp_source.html#l00058">interface.cpp:58</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">irsol::server::App::m_port</a></div><div class="ttdeci">const irsol::types::port_t m_port</div><div class="ttdoc">TCP port on which the server listens for incoming connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00099">app.hpp:99</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a2fb7bb9c0a96f8585750770880181d12"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">irsol::server::App::m_acceptor</a></div><div class="ttdeci">irsol::server::internal::ClientSessionAcceptor m_acceptor</div><div class="ttdoc">Acceptor for new client connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00102">app.hpp:102</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a5e78a84334dc310a6012fc1288fb5e1d"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">irsol::server::App::addClient</a></div><div class="ttdeci">void addClient(const irsol::types::client_id_t &amp;clientId, irsol::types::socket_t &amp;&amp;sock)</div><div class="ttdoc">Registers a new client session.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00086">app.cpp:86</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a73d8272bb6c2ddd147d1a4e37e76df61"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">irsol::server::App::m_frameCollector</a></div><div class="ttdeci">std::unique_ptr&lt; frame_collector::FrameCollector &gt; m_frameCollector</div><div class="ttdoc">Owned collector that captures frames and dispatches them to clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00117">app.hpp:117</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a920eb334b2900034e980ed10e30e2e19"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">irsol::server::App::registerMessageHandlers</a></div><div class="ttdeci">void registerMessageHandlers()</div><div class="ttdoc">Registers message handlers for the server.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00133">app.cpp:133</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab72d585f1aacd9b927a204a0de2c049e"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">irsol::server::App::m_cameraInterface</a></div><div class="ttdeci">std::unique_ptr&lt; camera::Interface &gt; m_cameraInterface</div><div class="ttdoc">Owned interface to the camera hardware.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00114">app.hpp:114</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_aea70dd9a2207e836b59bd92c899d1d93"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">irsol::server::App::m_messageHandler</a></div><div class="ttdeci">std::unique_ptr&lt; handlers::MessageHandler &gt; m_messageHandler</div><div class="ttdoc">Message handler for incoming messages.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00120">app.hpp:120</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga85d5803f1f7fb99923cdac16d1dc2ee8"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a></div><div class="ttdeci">#define IRSOL_LOG_DEBUG(...)</div><div class="ttdoc">Logs a debug-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00091">logging.hpp:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5e78a84334dc310a6012fc1288fb5e1d" name="a5e78a84334dc310a6012fc1288fb5e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e78a84334dc310a6012fc1288fb5e1d">&#9670;&#160;</a></span>addClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::addClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>clientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#aa4bde0b5a91ffd9c2a272b8aebc64095">irsol::types::socket_t</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a new client session. </p>
<p>Inserts the session into m_clients and starts its <a class="el" href="../../d7/da0/viewer__client__gi_8cpp.html#a8e59f5cc79a04a892b23dc84bcdd90f7">run()</a> method in a new thread..</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>Unique ID for the new client. </td></tr>
    <tr><td class="paramname">sock</td><td>TCP socket for the new client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is called from the accept loop thread. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00086">86</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>{</div>
<div class="line"><span class="lineno">   88</span>  <span class="keyword">auto</span> session = std::make_shared&lt;ClientSession&gt;(clientId, std::move(sock), *<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   89</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">   90</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(</div>
<div class="line"><span class="lineno">   91</span>    <span class="stringliteral">&quot;Registering new client connection from {} with id {}&quot;</span>,</div>
<div class="line"><span class="lineno">   92</span>    session-&gt;socket().address().to_string(),</div>
<div class="line"><span class="lineno">   93</span>    clientId);</div>
<div class="line"><span class="lineno">   94</span>  {</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.insert({clientId, session});</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(</div>
<div class="line"><span class="lineno">   97</span>      <span class="stringliteral">&quot;Client {} added to session list, total clients: {}&quot;</span>, clientId, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.size());</div>
<div class="line"><span class="lineno">   98</span>  }</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Starting client session thread for client with id {}&quot;</span>, clientId);</div>
<div class="line"><span class="lineno">  101</span>  std::thread([session, <span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Thread for client with ID {} started&quot;</span>, session-&gt;id());</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  105</span>      session-&gt;run();</div>
<div class="line"><span class="lineno">  106</span>    } <span class="keywordflow">catch</span>(std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  107</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a>(</div>
<div class="line"><span class="lineno">  108</span>        <span class="stringliteral">&quot;Error in client session thread for client with id {}: {}&quot;</span>, session-&gt;id(), e.what());</div>
<div class="line"><span class="lineno">  109</span>    }</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Thread for client with ID {} finished&quot;</span>, session-&gt;id());</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">removeClient</a>(session-&gt;id());</div>
<div class="line"><span class="lineno">  112</span>  })</div>
<div class="line"><span class="lineno">  113</span>    .detach();</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab61e4a18c68ab29e90f79d2724b2511c"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">irsol::server::App::m_clients</a></div><div class="ttdeci">client_map_t m_clients</div><div class="ttdoc">Maps client IDs to their active ClientSession instances.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00111">app.hpp:111</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ac6b7241370a0cdb0074a1aec0fd03ee5"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">irsol::server::App::removeClient</a></div><div class="ttdeci">void removeClient(const irsol::types::client_id_t &amp;clientId)</div><div class="ttdoc">Unregisters a disconnected client.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00117">app.cpp:117</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ad5f4d7bd76d883153b5e7435c10e4390"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">irsol::server::App::m_clientsMutex</a></div><div class="ttdeci">std::mutex m_clientsMutex</div><div class="ttdoc">Protects concurrent access to the client sessions map.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00108">app.hpp:108</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga2c8ae9f0bc88357231bbe3c8e885103f"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a></div><div class="ttdeci">#define IRSOL_LOG_INFO(...)</div><div class="ttdoc">Logs an info-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00092">logging.hpp:92</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga5e2b978c0669a28cf95a8f91a667674a"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a></div><div class="ttdeci">#define IRSOL_LOG_ERROR(...)</div><div class="ttdoc">Logs an error-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00094">logging.hpp:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82a57dc3845931c5545de504eac102e0" name="a82a57dc3845931c5545de504eac102e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a57dc3845931c5545de504eac102e0">&#9670;&#160;</a></span>broadcastMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::broadcastMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/dff/namespaceirsol_1_1protocol.html#a9f9e0d98cc4cf09baf10d9a0f6e06f66">protocol::OutMessage</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>excludeClient</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcasts a message to all connected client sessions. </p>
<p>This method acquires a lock on the client map to iterate over all active client sessions and sends the provided message directly to each of them.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to broadcast. </td></tr>
    <tr><td class="paramname">excludeClient</td><td>Optional client ID to exclude from the broadcast (e.g., the sender). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00062">62</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>{</div>
<div class="line"><span class="lineno">   66</span>  <span class="comment">// Serialize the message only once, and distribute to all clients</span></div>
<div class="line"><span class="lineno">   67</span>  <span class="keyword">auto</span> serializedMessage = <a class="code hl_function" href="../../d1/d6f/classirsol_1_1protocol_1_1Serializer.html#a7fe9f605fe5148e891c113073990a9e5">irsol::protocol::Serializer::serialize</a>(std::move(message));</div>
<div class="line"><span class="lineno">   68</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Broadcasting serialized message {}&quot;</span>, serializedMessage.toString());</div>
<div class="line"><span class="lineno">   69</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>  <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [clientId, session] : <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>) {</div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">if</span>(excludeClient &amp;&amp; clientId == *excludeClient) {</div>
<div class="line"><span class="lineno">   73</span>      <span class="keywordflow">continue</span>;  <span class="comment">// Skip the sender if specified</span></div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   76</span>      std::scoped_lock&lt;std::mutex&gt; sessionLock(session-&gt;socketMutex());</div>
<div class="line"><span class="lineno">   77</span>      session-&gt;handleSerializedMessage(serializedMessage);</div>
<div class="line"><span class="lineno">   78</span>    } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; ex) {</div>
<div class="line"><span class="lineno">   79</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5ffc6d687ddca344c775b62c9d6e822f">IRSOL_LOG_WARN</a>(<span class="stringliteral">&quot;Failed to send broadcast to client {}: {}&quot;</span>, clientId, ex.what());</div>
<div class="line"><span class="lineno">   80</span>    }</div>
<div class="line"><span class="lineno">   81</span>  }</div>
<div class="line"><span class="lineno">   82</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Broadcasting complete.&quot;</span>);</div>
<div class="line"><span class="lineno">   83</span>}</div>
<div class="ttc" id="aclassirsol_1_1protocol_1_1Serializer_html_a7fe9f605fe5148e891c113073990a9e5"><div class="ttname"><a href="../../d1/d6f/classirsol_1_1protocol_1_1Serializer.html#a7fe9f605fe5148e891c113073990a9e5">irsol::protocol::Serializer::serialize</a></div><div class="ttdeci">static internal::SerializedMessage serialize(OutMessage &amp;&amp;msg)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d74/serializer_8cpp_source.html#l00012">serializer.cpp:12</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga5ffc6d687ddca344c775b62c9d6e822f"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga5ffc6d687ddca344c775b62c9d6e822f">IRSOL_LOG_WARN</a></div><div class="ttdeci">#define IRSOL_LOG_WARN(...)</div><div class="ttdoc">Logs a warning-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00093">logging.hpp:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d467f15aaac7fb128455f76e3aebf3b" name="a3d467f15aaac7fb128455f76e3aebf3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d467f15aaac7fb128455f76e3aebf3b">&#9670;&#160;</a></span>camera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a> &amp; irsol::server::App::camera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00084">84</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   85</span>  {</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>;</div>
<div class="line"><span class="lineno">   87</span>  };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a740cd3948f39494ec70ffe96f7814c87" name="a740cd3948f39494ec70ffe96f7814c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740cd3948f39494ec70ffe96f7814c87">&#9670;&#160;</a></span>frameCollector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a> &amp; irsol::server::App::frameCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00088">88</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>  {</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>;</div>
<div class="line"><span class="lineno">   91</span>  };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77e659b496f5b52147e866441a9e79c0" name="a77e659b496f5b52147e866441a9e79c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77e659b496f5b52147e866441a9e79c0">&#9670;&#160;</a></span>getClientSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a> &gt; irsol::server::App::getClientSession </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>clientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves a client session by its unique identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>Unique identifier of the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A shared pointer to the client session, or nullptr if not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00054">54</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>{</div>
<div class="line"><span class="lineno">   56</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">   57</span>  <span class="keyword">auto</span>                         it = <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.find(clientId);</div>
<div class="line"><span class="lineno">   58</span>  <span class="keywordflow">return</span> it != <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.end() ? it-&gt;second : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   59</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a488466726e84fb900a31d999986bc7a8" name="a488466726e84fb900a31d999986bc7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488466726e84fb900a31d999986bc7a8">&#9670;&#160;</a></span>messageHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a> &amp; irsol::server::App::messageHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00092">92</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>  {</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"><span class="lineno">   95</span>  };</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab769714cca25b178b08c7aaf554af602" name="ab769714cca25b178b08c7aaf554af602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab769714cca25b178b08c7aaf554af602">&#9670;&#160;</a></span>registerLambdaHandler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InMessageT , typename LambdaT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::registerLambdaHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d2c/structirsol_1_1server_1_1handlers_1_1Context.html">handlers::Context</a> &amp;&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LambdaT &amp;&amp;&#160;</td>
          <td class="paramname"><em>lambda</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template function to register a lambda message handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>Identifier for the message type </td></tr>
    <tr><td class="paramname">ctx</td><td>Context for the lambda handler. </td></tr>
    <tr><td class="paramname">lambda</td><td>Lambda function for the handler.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is templated to handle different message types and lambda handlers. <div class="fragment"><div class="line">registerLambdaHandler&lt;protocol::Command&gt;(</div>
<div class="line"> <span class="stringliteral">&quot;lambda_command&quot;</span>,</div>
<div class="line"> ctx,</div>
<div class="line">  [](</div>
<div class="line">    <a class="code hl_struct" href="../../d4/d2c/structirsol_1_1server_1_1handlers_1_1Context.html">handlers::Context</a>&amp;                  ctx,</div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>&amp; clientId,</div>
<div class="line">    <a class="code hl_struct" href="../../d2/d10/structirsol_1_1protocol_1_1Command.html">protocol::Command</a>&amp;&amp;                 cmd) -&gt; std::vector&lt;protocol::OutMessage&gt; {</div>
<div class="line">       <span class="comment">// Handle the command</span></div>
<div class="line">       <span class="keywordflow">return</span> {...};</div>
<div class="line"> }</div>
<div class="line">);</div>
<div class="ttc" id="anamespaceirsol_1_1types_html_a1e34241919e241ec2f3f6b8c236f40ae"><div class="ttname"><a href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a></div><div class="ttdeci">std::string client_id_t</div><div class="ttdoc">Represents a unique client identifier. Typically used to identify connected clients by string IDs.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de3/types_8hpp_source.html#l00055">types.hpp:55</a></div></div>
<div class="ttc" id="astructirsol_1_1protocol_1_1Command_html"><div class="ttname"><a href="../../d2/d10/structirsol_1_1protocol_1_1Command.html">irsol::protocol::Command</a></div><div class="ttdoc">Represents a command invocation in the protocol.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/dc7/command_8hpp_source.html#l00016">command.hpp:17</a></div></div>
<div class="ttc" id="astructirsol_1_1server_1_1handlers_1_1Context_html"><div class="ttname"><a href="../../d4/d2c/structirsol_1_1server_1_1handlers_1_1Context.html">irsol::server::handlers::Context</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/da3/context_8hpp_source.html#l00014">context.hpp:15</a></div></div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00200">200</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  201</span>  {</div>
<div class="line"><span class="lineno">  202</span>    <span class="keyword">auto</span>  handler = handlers::makeLambdaHandler&lt;InMessageT&gt;(ctx, std::forward&lt;LambdaT&gt;(lambda));</div>
<div class="line"><span class="lineno">  203</span>    <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> = *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line"><span class="lineno">  206</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register lambda handler for identifier {}&quot;</span>, identifier);</div>
<div class="line"><span class="lineno">  207</span>      <span class="keywordflow">throw</span> std::runtime_error(</div>
<div class="line"><span class="lineno">  208</span>        <span class="stringliteral">&quot;Failed to register lambda handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  209</span>    }</div>
<div class="line"><span class="lineno">  210</span>  }</div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a488466726e84fb900a31d999986bc7a8"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">irsol::server::App::messageHandler</a></div><div class="ttdeci">const handlers::MessageHandler &amp; messageHandler() const</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00092">app.hpp:92</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga12a839278fd4290a53aa7b0f9f9263b5"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a></div><div class="ttdeci">#define IRSOL_LOG_FATAL(...)</div><div class="ttdoc">Logs a fatal (critical) message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00095">logging.hpp:95</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7daa71ab01c508418e0039f24e8016ed" name="a7daa71ab01c508418e0039f24e8016ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7daa71ab01c508418e0039f24e8016ed">&#9670;&#160;</a></span>registerMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InMessageT , typename HandlerT , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::registerMessageHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Template function to register a message handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>Identifier for the message type </td></tr>
    <tr><td class="paramname">args</td><td>Arguments for the handler constructor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is templated to handle different message types and handlers. <div class="fragment"><div class="line">registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryFRHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
<div class="line">registerMessageHandler&lt;protocol::Command, handlers::CommandFRHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
</div><!-- fragment --> </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00165">165</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  166</span>  {</div>
<div class="line"><span class="lineno">  167</span>    <span class="keyword">auto</span>  handler        = handlers::makeHandler&lt;HandlerT&gt;(std::forward&lt;Args&gt;(args)...);</div>
<div class="line"><span class="lineno">  168</span>    <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> = *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line"><span class="lineno">  171</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register handler for identifier {}&quot;</span>, identifier);</div>
<div class="line"><span class="lineno">  172</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to register handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  173</span>    }</div>
<div class="line"><span class="lineno">  174</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a920eb334b2900034e980ed10e30e2e19" name="a920eb334b2900034e980ed10e30e2e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a920eb334b2900034e980ed10e30e2e19">&#9670;&#160;</a></span>registerMessageHandlers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::registerMessageHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers message handlers for the server. </p>
<p>Sets up handlers for assignment, inquiry, and command messages. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00133">133</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>{</div>
<div class="line"><span class="lineno">  135</span>  <span class="comment">// Build a context to pass to all handlers</span></div>
<div class="line"><span class="lineno">  136</span>  handlers::Context ctx{*<span class="keyword">this</span>};</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>  <span class="comment">// Register message handlers for specific message types</span></div>
<div class="line"><span class="lineno">  139</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryFrameRateHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  140</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentFrameRateHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  141</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentInputSequenceLengthHandler&gt;(</div>
<div class="line"><span class="lineno">  142</span>    <span class="stringliteral">&quot;isl&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  143</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentIntegrationTimeHandler&gt;(</div>
<div class="line"><span class="lineno">  144</span>    <span class="stringliteral">&quot;it&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  145</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryIntegrationTimeHandler&gt;(<span class="stringliteral">&quot;it&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  146</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryInputSequenceLengthHandler&gt;(</div>
<div class="line"><span class="lineno">  147</span>    <span class="stringliteral">&quot;isl&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  148</span>  registerMessageHandler&lt;protocol::Command, handlers::CommandAbortHandler&gt;(<span class="stringliteral">&quot;abort&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  149</span>  registerMessageHandler&lt;protocol::Command, handlers::CommandGIHandler&gt;(<span class="stringliteral">&quot;gi&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  150</span>  registerMessageHandler&lt;protocol::Command, handlers::CommandGISHandler&gt;(<span class="stringliteral">&quot;gis&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  151</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgLeftHandler&gt;(<span class="stringliteral">&quot;img_l&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  152</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgTopHandler&gt;(<span class="stringliteral">&quot;img_t&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  153</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgWidthHandler&gt;(<span class="stringliteral">&quot;img_w&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  154</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgHeightHandler&gt;(<span class="stringliteral">&quot;img_h&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  155</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgLeftHandler&gt;(<span class="stringliteral">&quot;img_l&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  156</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgTopHandler&gt;(<span class="stringliteral">&quot;img_t&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  157</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgWidthHandler&gt;(<span class="stringliteral">&quot;img_w&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  158</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgHeightHandler&gt;(<span class="stringliteral">&quot;img_h&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>  registerLambdaHandler&lt;protocol::Command&gt;(</div>
<div class="line"><span class="lineno">  161</span>    <span class="stringliteral">&quot;image_data&quot;</span>,</div>
<div class="line"><span class="lineno">  162</span>    ctx,</div>
<div class="line"><span class="lineno">  163</span>    [](handlers::Context&amp; ctx, <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>&amp; clientId, protocol::Command&amp;&amp; cmd)</div>
<div class="line"><span class="lineno">  164</span>      -&gt; std::vector&lt;protocol::OutMessage&gt; {</div>
<div class="line"><span class="lineno">  165</span>      std::vector&lt;protocol::OutMessage&gt; <a class="code hl_variable" href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a>;</div>
<div class="line"><span class="lineno">  166</span>      <span class="keyword">auto</span>&amp;                             cam = ctx.app.camera();</div>
<div class="line"><span class="lineno">  167</span>      <span class="keyword">auto</span>                              img = cam.captureImage(std::chrono::milliseconds(10000));</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>      <span class="keywordflow">if</span>(img.IsEmpty()) {</div>
<div class="line"><span class="lineno">  170</span>        IRSOL_NAMED_LOG_ERROR(clientId, <span class="stringliteral">&quot;Failed to capture image.&quot;</span>);</div>
<div class="line"><span class="lineno">  171</span>        result.emplace_back(irsol::protocol::Error::from(cmd, <span class="stringliteral">&quot;Failed to capture image&quot;</span>));</div>
<div class="line"><span class="lineno">  172</span>        return result;</div>
<div class="line"><span class="lineno">  173</span>      }</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>      uint32_t width    = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(img.GetWidth());</div>
<div class="line"><span class="lineno">  176</span>      uint32_t height   = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(img.GetHeight());</div>
<div class="line"><span class="lineno">  177</span>      <span class="keywordtype">size_t</span>   dataSize = img.GetSize();</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>      <span class="keyword">const</span> <span class="keywordtype">void</span>*                       imageBuffer = img.GetImageData();</div>
<div class="line"><span class="lineno">  180</span>      std::vector&lt;irsol::types::byte_t&gt; rawData(dataSize);</div>
<div class="line"><span class="lineno">  181</span>      memcpy(rawData.data(), imageBuffer, dataSize);</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>      <a class="code hl_variable" href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a>.emplace_back(</div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_struct" href="../../dd/d6d/structirsol_1_1protocol_1_1internal_1_1BinaryData.html">irsol::protocol::ImageBinaryData</a>(std::move(rawData), {height, width}, {}));</div>
<div class="line"><span class="lineno">  185</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a>;</div>
<div class="line"><span class="lineno">  186</span>    });</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="astructirsol_1_1protocol_1_1internal_1_1BinaryData_html"><div class="ttname"><a href="../../dd/d6d/structirsol_1_1protocol_1_1internal_1_1BinaryData.html">irsol::protocol::internal::BinaryData</a></div><div class="ttdoc">Represents a binary data object in the protocol.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d2e/binary_8hpp_source.html#l00074">binary.hpp:75</a></div></div>
<div class="ttc" id="atest__error_8cpp_html_aede94e5895960e8807719a1a1abf9f43"><div class="ttname"><a href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a></div><div class="ttdeci">auto result</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dbc/test__error_8cpp_source.html#l00017">test_error.cpp:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6b7241370a0cdb0074a1aec0fd03ee5" name="ac6b7241370a0cdb0074a1aec0fd03ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b7241370a0cdb0074a1aec0fd03ee5">&#9670;&#160;</a></span>removeClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::removeClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>clientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unregisters a disconnected client. </p>
<p>Removes the session from m_clients, notifies FrameCollector to stop streaming to that client, and cleans up resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>ID of the client to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is called as soon as the client connection is closed (e.g. when client disconnects). </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00117">117</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>{</div>
<div class="line"><span class="lineno">  119</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">  120</span>  <span class="keyword">auto</span>                         clientIt = <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.find(clientId);</div>
<div class="line"><span class="lineno">  121</span>  <span class="keywordflow">if</span>(clientIt == <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.end()) {</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a>(<span class="stringliteral">&quot;Client &#39;{}&#39; not found in session list&quot;</span>, clientId);</div>
<div class="line"><span class="lineno">  123</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  124</span>    <span class="keyword">auto</span> client = clientIt-&gt;second;</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>-&gt;deregisterClient(client-&gt;id());</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.erase(clientIt);</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(</div>
<div class="line"><span class="lineno">  128</span>      <span class="stringliteral">&quot;Client {} removed from session list, remaining clients: {}&quot;</span>, clientId, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.size());</div>
<div class="line"><span class="lineno">  129</span>  }</div>
<div class="line"><span class="lineno">  130</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fb6f6293e0934c50607bd4d3484ead6" name="a8fb6f6293e0934c50607bd4d3484ead6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb6f6293e0934c50607bd4d3484ead6">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool irsol::server::App::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the server: begins listening and accepting clients. </p>
<p>Spawns the accept loop thread. Returns true on successful startup.</p>
<dl class="section return"><dt>Returns</dt><dd>true if the server started correctly, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00027">27</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>{</div>
<div class="line"><span class="lineno">   29</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>.<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ac34a488c77ed081884e301468d87d103">isOpen</a>()) {</div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to open acceptor on port {}: {}&quot;</span>, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>.<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#acd091ae1e5721a30b70638d0af919908">error</a>());</div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   32</span>  }</div>
<div class="line"><span class="lineno">   33</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Starting accept thread&quot;</span>);</div>
<div class="line"><span class="lineno">   34</span>  <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a> = std::thread(&amp;<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ad6f5a0eba72fcf71da351c599ff402e3">internal::ClientSessionAcceptor::run</a>, &amp;<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>);</div>
<div class="line"><span class="lineno">   35</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Server started successfully&quot;</span>);</div>
<div class="line"><span class="lineno">   36</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   37</span>}</div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a4cde018a00938a5c940874d8469944be"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">irsol::server::App::m_acceptThread</a></div><div class="ttdeci">std::thread m_acceptThread</div><div class="ttdoc">Thread that runs the acceptor for new clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00105">app.hpp:105</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_ac34a488c77ed081884e301468d87d103"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ac34a488c77ed081884e301468d87d103">irsol::server::internal::ClientSessionAcceptor::isOpen</a></div><div class="ttdeci">bool isOpen() const</div><div class="ttdoc">Returns true if the acceptor is currently open.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00027">acceptor.cpp:27</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_acd091ae1e5721a30b70638d0af919908"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#acd091ae1e5721a30b70638d0af919908">irsol::server::internal::ClientSessionAcceptor::error</a></div><div class="ttdeci">std::string error() const</div><div class="ttdoc">Returns the error message if the acceptor is in error mode.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00020">acceptor.cpp:20</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_ad6f5a0eba72fcf71da351c599ff402e3"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ad6f5a0eba72fcf71da351c599ff402e3">irsol::server::internal::ClientSessionAcceptor::run</a></div><div class="ttdeci">void run()</div><div class="ttdoc">Starts the accept loop. This is usually called in a separate thread.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00044">acceptor.cpp:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a7eab0392bb9b77fdaecf8cea61c771" name="a8a7eab0392bb9b77fdaecf8cea61c771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a7eab0392bb9b77fdaecf8cea61c771">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the server: shuts down accepting new clients and all active sessions. </p>
<p>Signals the accept loop to exit, stops the FrameCollector, closes all client sessions, and joins threads. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00040">40</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Stopping server&quot;</span>);</div>
<div class="line"><span class="lineno">   43</span>  <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>.<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#a94ef12568141ee0a5e1b8aed41ef3b8e">stop</a>();</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a>.joinable()) {</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Joining accept thread&quot;</span>);</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a>.join();</div>
<div class="line"><span class="lineno">   48</span>  }</div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>-&gt;stop();</div>
<div class="line"><span class="lineno">   50</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Server stopped&quot;</span>);</div>
<div class="line"><span class="lineno">   51</span>}</div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_a94ef12568141ee0a5e1b8aed41ef3b8e"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#a94ef12568141ee0a5e1b8aed41ef3b8e">irsol::server::internal::ClientSessionAcceptor::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stops the accept loop.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00033">acceptor.cpp:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2fb7bb9c0a96f8585750770880181d12" name="a2fb7bb9c0a96f8585750770880181d12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb7bb9c0a96f8585750770880181d12">&#9670;&#160;</a></span>m_acceptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html">irsol::server::internal::ClientSessionAcceptor</a> irsol::server::App::m_acceptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acceptor for new client connections. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00102">102</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="a4cde018a00938a5c940874d8469944be" name="a4cde018a00938a5c940874d8469944be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cde018a00938a5c940874d8469944be">&#9670;&#160;</a></span>m_acceptThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread irsol::server::App::m_acceptThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread that runs the acceptor for new clients. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00105">105</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="ab72d585f1aacd9b927a204a0de2c049e" name="ab72d585f1aacd9b927a204a0de2c049e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72d585f1aacd9b927a204a0de2c049e">&#9670;&#160;</a></span>m_cameraInterface</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a>&gt; irsol::server::App::m_cameraInterface</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Owned interface to the camera hardware. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00114">114</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="ab61e4a18c68ab29e90f79d2724b2511c" name="ab61e4a18c68ab29e90f79d2724b2511c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61e4a18c68ab29e90f79d2724b2511c">&#9670;&#160;</a></span>m_clients</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a> irsol::server::App::m_clients</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps client IDs to their active <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html" title="Represents a single connected client session in the server.">ClientSession</a> instances. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00111">111</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="ad5f4d7bd76d883153b5e7435c10e4390" name="ad5f4d7bd76d883153b5e7435c10e4390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f4d7bd76d883153b5e7435c10e4390">&#9670;&#160;</a></span>m_clientsMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex irsol::server::App::m_clientsMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Protects concurrent access to the client sessions map. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00108">108</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="a73d8272bb6c2ddd147d1a4e37e76df61" name="a73d8272bb6c2ddd147d1a4e37e76df61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d8272bb6c2ddd147d1a4e37e76df61">&#9670;&#160;</a></span>m_frameCollector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a>&gt; irsol::server::App::m_frameCollector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Owned collector that captures frames and dispatches them to clients. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00117">117</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="aea70dd9a2207e836b59bd92c899d1d93" name="aea70dd9a2207e836b59bd92c899d1d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea70dd9a2207e836b59bd92c899d1d93">&#9670;&#160;</a></span>m_messageHandler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a>&gt; irsol::server::App::m_messageHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message handler for incoming messages. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00120">120</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec" name="a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">&#9670;&#160;</a></span>m_port</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a> irsol::server::App::m_port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>TCP port on which the server listens for incoming connections. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00099">99</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/irsol/include/irsol/server/<a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a></li>
<li>src/irsol/lib/irsol/server/<a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/ddb/namespaceirsol.html">irsol</a></li><li class="navelem"><a class="el" href="../../d1/d03/namespaceirsol_1_1server.html">server</a></li><li class="navelem"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html">App</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
