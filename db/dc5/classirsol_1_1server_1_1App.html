<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IRSOL: irsol::server::App Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../irsol_logo.jpeg"/></td>
  <td id="projectalign">
   <div id="projectname">IRSOL
   </div>
   <div id="projectbrief">C++ code implementing socket server for interacting with Baumer camera.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('db/dc5/classirsol_1_1server_1_1App.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d1/d9d/classirsol_1_1server_1_1App-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">irsol::server::App Class Reference<div class="ingroups"><a class="el" href="../../da/d64/group__Server.html">Server</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Main server application that manages client connections and camera streaming.  
 <a href="../../db/dc5/classirsol_1_1server_1_1App.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abaf05e4cfe17f02daca2cd14ebde207c" id="r_abaf05e4cfe17f02daca2cd14ebde207c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#abaf05e4cfe17f02daca2cd14ebde207c">App</a> (<a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a> port)</td></tr>
<tr class="memdesc:abaf05e4cfe17f02daca2cd14ebde207c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs the <a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html" title="Main server application that manages client connections and camera streaming.">App</a>.  <br /></td></tr>
<tr class="separator:abaf05e4cfe17f02daca2cd14ebde207c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb6f6293e0934c50607bd4d3484ead6" id="r_a8fb6f6293e0934c50607bd4d3484ead6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a8fb6f6293e0934c50607bd4d3484ead6">start</a> ()</td></tr>
<tr class="memdesc:a8fb6f6293e0934c50607bd4d3484ead6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the server.  <br /></td></tr>
<tr class="separator:a8fb6f6293e0934c50607bd4d3484ead6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a7eab0392bb9b77fdaecf8cea61c771" id="r_a8a7eab0392bb9b77fdaecf8cea61c771"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a8a7eab0392bb9b77fdaecf8cea61c771">stop</a> ()</td></tr>
<tr class="memdesc:a8a7eab0392bb9b77fdaecf8cea61c771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops the server.  <br /></td></tr>
<tr class="separator:a8a7eab0392bb9b77fdaecf8cea61c771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77e659b496f5b52147e866441a9e79c0" id="r_a77e659b496f5b52147e866441a9e79c0"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a77e659b496f5b52147e866441a9e79c0">getClientSession</a> (const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;clientId)</td></tr>
<tr class="memdesc:a77e659b496f5b52147e866441a9e79c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves an active client session.  <br /></td></tr>
<tr class="separator:a77e659b496f5b52147e866441a9e79c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a57dc3845931c5545de504eac102e0" id="r_a82a57dc3845931c5545de504eac102e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a82a57dc3845931c5545de504eac102e0">broadcastMessage</a> (<a class="el" href="../../de/dca/group__Protocol.html#ga9f9e0d98cc4cf09baf10d9a0f6e06f66">protocol::OutMessage</a> &amp;&amp;message, const std::optional&lt; <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &gt; &amp;excludeClient=std::nullopt)</td></tr>
<tr class="memdesc:a82a57dc3845931c5545de504eac102e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcasts a message to all connected clients.  <br /></td></tr>
<tr class="separator:a82a57dc3845931c5545de504eac102e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d467f15aaac7fb128455f76e3aebf3b" id="r_a3d467f15aaac7fb128455f76e3aebf3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a3d467f15aaac7fb128455f76e3aebf3b">camera</a> ()</td></tr>
<tr class="memdesc:a3d467f15aaac7fb128455f76e3aebf3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the camera interface.  <br /></td></tr>
<tr class="separator:a3d467f15aaac7fb128455f76e3aebf3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740cd3948f39494ec70ffe96f7814c87" id="r_a740cd3948f39494ec70ffe96f7814c87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a740cd3948f39494ec70ffe96f7814c87">frameCollector</a> ()</td></tr>
<tr class="memdesc:a740cd3948f39494ec70ffe96f7814c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the frame collector.  <br /></td></tr>
<tr class="separator:a740cd3948f39494ec70ffe96f7814c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488466726e84fb900a31d999986bc7a8" id="r_a488466726e84fb900a31d999986bc7a8"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> () const</td></tr>
<tr class="memdesc:a488466726e84fb900a31d999986bc7a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accessor for the message handler.  <br /></td></tr>
<tr class="separator:a488466726e84fb900a31d999986bc7a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a2ae5d9838d0487da826386234ff2f481" id="r_a2ae5d9838d0487da826386234ff2f481"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a> = std::unordered_map&lt; <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>, std::shared_ptr&lt; <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a> &gt; &gt;</td></tr>
<tr class="separator:a2ae5d9838d0487da826386234ff2f481"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5e78a84334dc310a6012fc1288fb5e1d" id="r_a5e78a84334dc310a6012fc1288fb5e1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">addClient</a> (const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;clientId, <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#aa4bde0b5a91ffd9c2a272b8aebc64095">irsol::types::socket_t</a> &amp;&amp;sock)</td></tr>
<tr class="memdesc:a5e78a84334dc310a6012fc1288fb5e1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a new client session.  <br /></td></tr>
<tr class="separator:a5e78a84334dc310a6012fc1288fb5e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6b7241370a0cdb0074a1aec0fd03ee5" id="r_ac6b7241370a0cdb0074a1aec0fd03ee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">removeClient</a> (const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;clientId)</td></tr>
<tr class="memdesc:ac6b7241370a0cdb0074a1aec0fd03ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a client session.  <br /></td></tr>
<tr class="separator:ac6b7241370a0cdb0074a1aec0fd03ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a920eb334b2900034e980ed10e30e2e19" id="r_a920eb334b2900034e980ed10e30e2e19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">registerMessageHandlers</a> ()</td></tr>
<tr class="memdesc:a920eb334b2900034e980ed10e30e2e19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers standard message handlers.  <br /></td></tr>
<tr class="separator:a920eb334b2900034e980ed10e30e2e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7daa71ab01c508418e0039f24e8016ed" id="r_a7daa71ab01c508418e0039f24e8016ed"><td class="memTemplParams" colspan="2">template&lt;typename InMessageT , typename HandlerT , typename... Args&gt; </td></tr>
<tr class="memitem:a7daa71ab01c508418e0039f24e8016ed"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a7daa71ab01c508418e0039f24e8016ed">registerMessageHandler</a> (const std::string &amp;identifier, Args &amp;&amp;... args)</td></tr>
<tr class="memdesc:a7daa71ab01c508418e0039f24e8016ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a message handler by type.  <br /></td></tr>
<tr class="separator:a7daa71ab01c508418e0039f24e8016ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdda9ba4c2ae2a73e64fe3ec1fb528e6" id="r_acdda9ba4c2ae2a73e64fe3ec1fb528e6"><td class="memTemplParams" colspan="2">template&lt;typename InMessageT , typename LambdaT &gt; </td></tr>
<tr class="memitem:acdda9ba4c2ae2a73e64fe3ec1fb528e6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#acdda9ba4c2ae2a73e64fe3ec1fb528e6">registerLambdaHandler</a> (const std::string &amp;identifier, std::shared_ptr&lt; <a class="el" href="../../d4/d2c/structirsol_1_1server_1_1handlers_1_1Context.html">handlers::Context</a> &gt; ctx, LambdaT &amp;&amp;lambda)</td></tr>
<tr class="memdesc:acdda9ba4c2ae2a73e64fe3ec1fb528e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a lambda-based message handler.  <br /></td></tr>
<tr class="separator:acdda9ba4c2ae2a73e64fe3ec1fb528e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec" id="r_a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a></td></tr>
<tr class="memdesc:a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP port on which the server listens.  <br /></td></tr>
<tr class="separator:a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb7bb9c0a96f8585750770880181d12" id="r_a2fb7bb9c0a96f8585750770880181d12"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html">irsol::server::internal::ClientSessionAcceptor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a></td></tr>
<tr class="memdesc:a2fb7bb9c0a96f8585750770880181d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acceptor that handles incoming client connections.  <br /></td></tr>
<tr class="separator:a2fb7bb9c0a96f8585750770880181d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cde018a00938a5c940874d8469944be" id="r_a4cde018a00938a5c940874d8469944be"><td class="memItemLeft" align="right" valign="top">std::thread&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a></td></tr>
<tr class="memdesc:a4cde018a00938a5c940874d8469944be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread running the connection acceptor loop.  <br /></td></tr>
<tr class="separator:a4cde018a00938a5c940874d8469944be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f4d7bd76d883153b5e7435c10e4390" id="r_ad5f4d7bd76d883153b5e7435c10e4390"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a></td></tr>
<tr class="memdesc:ad5f4d7bd76d883153b5e7435c10e4390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for protecting access to m_clients.  <br /></td></tr>
<tr class="separator:ad5f4d7bd76d883153b5e7435c10e4390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61e4a18c68ab29e90f79d2724b2511c" id="r_ab61e4a18c68ab29e90f79d2724b2511c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a></td></tr>
<tr class="memdesc:ab61e4a18c68ab29e90f79d2724b2511c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of connected clients.  <br /></td></tr>
<tr class="separator:ab61e4a18c68ab29e90f79d2724b2511c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72d585f1aacd9b927a204a0de2c049e" id="r_ab72d585f1aacd9b927a204a0de2c049e"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a></td></tr>
<tr class="memdesc:ab72d585f1aacd9b927a204a0de2c049e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface to the camera.  <br /></td></tr>
<tr class="separator:ab72d585f1aacd9b927a204a0de2c049e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d8272bb6c2ddd147d1a4e37e76df61" id="r_a73d8272bb6c2ddd147d1a4e37e76df61"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a></td></tr>
<tr class="memdesc:a73d8272bb6c2ddd147d1a4e37e76df61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frame collector for capturing and broadcasting camera frames.  <br /></td></tr>
<tr class="separator:a73d8272bb6c2ddd147d1a4e37e76df61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea70dd9a2207e836b59bd92c899d1d93" id="r_aea70dd9a2207e836b59bd92c899d1d93"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a></td></tr>
<tr class="memdesc:aea70dd9a2207e836b59bd92c899d1d93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Central handler for processing protocol messages.  <br /></td></tr>
<tr class="separator:aea70dd9a2207e836b59bd92c899d1d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main server application that manages client connections and camera streaming. </p>
<p>The <a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html" title="Main server application that manages client connections and camera streaming.">App</a> class starts the TCP server, listens for new connections, instantiates a new <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">irsol::server::ClientSession</a> per client, and coordinates the camera interface, frame collection, and message dispatching. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00045">45</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a2ae5d9838d0487da826386234ff2f481" name="a2ae5d9838d0487da826386234ff2f481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ae5d9838d0487da826386234ff2f481">&#9670;&#160;</a></span>client_map_t</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">irsol::server::App::client_map_t</a> =  std::unordered_map&lt;<a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>, std::shared_ptr&lt;<a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a>&gt; &gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00047">47</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abaf05e4cfe17f02daca2cd14ebde207c" name="abaf05e4cfe17f02daca2cd14ebde207c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf05e4cfe17f02daca2cd14ebde207c">&#9670;&#160;</a></span>App()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">irsol::server::App::App </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a>&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs the <a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html" title="Main server application that manages client connections and camera streaming.">App</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>The TCP port on which the server will listen for client connections. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00013">13</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   14</span>  : <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>(port)</div>
<div class="line"><span class="lineno">   15</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>(</div>
<div class="line"><span class="lineno">   16</span>      <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>,</div>
<div class="line"><span class="lineno">   17</span>      std::bind(&amp;<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">App::addClient</a>, <span class="keyword">this</span>, std::placeholders::_1, std::placeholders::_2))</div>
<div class="line"><span class="lineno">   18</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>(std::make_unique&lt;camera::Interface&gt;(<a class="code hl_function" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html#a2742473c3edfa1082bab15235e262bcc">camera::Interface::HalfResolution</a>()))</div>
<div class="line"><span class="lineno">   19</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>(std::make_unique&lt;frame_collector::FrameCollector&gt;(*<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>.get()))</div>
<div class="line"><span class="lineno">   20</span>  , <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>(std::make_unique&lt;handlers::MessageHandler&gt;())</div>
<div class="line"><span class="lineno">   21</span>{</div>
<div class="line"><span class="lineno">   22</span>  <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">registerMessageHandlers</a>();</div>
<div class="line"><span class="lineno">   23</span>}</div>
<div class="ttc" id="aclassirsol_1_1camera_1_1Interface_html_a2742473c3edfa1082bab15235e262bcc"><div class="ttname"><a href="../../d7/d37/classirsol_1_1camera_1_1Interface.html#a2742473c3edfa1082bab15235e262bcc">irsol::camera::Interface::HalfResolution</a></div><div class="ttdeci">static Interface HalfResolution()</div><div class="ttdoc">Factory method to create a camera interface using half sensor resolution.</div><div class="ttdef"><b>Definition</b> <a href="../../db/db7/interface_8cpp_source.html#l00063">interface.cpp:63</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">irsol::server::App::m_port</a></div><div class="ttdeci">const irsol::types::port_t m_port</div><div class="ttdoc">TCP port on which the server listens.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00121">app.hpp:121</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a2fb7bb9c0a96f8585750770880181d12"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">irsol::server::App::m_acceptor</a></div><div class="ttdeci">irsol::server::internal::ClientSessionAcceptor m_acceptor</div><div class="ttdoc">Acceptor that handles incoming client connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00124">app.hpp:124</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a5e78a84334dc310a6012fc1288fb5e1d"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a5e78a84334dc310a6012fc1288fb5e1d">irsol::server::App::addClient</a></div><div class="ttdeci">void addClient(const irsol::types::client_id_t &amp;clientId, irsol::types::socket_t &amp;&amp;sock)</div><div class="ttdoc">Adds a new client session.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00085">app.cpp:85</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a73d8272bb6c2ddd147d1a4e37e76df61"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">irsol::server::App::m_frameCollector</a></div><div class="ttdeci">std::unique_ptr&lt; frame_collector::FrameCollector &gt; m_frameCollector</div><div class="ttdoc">Frame collector for capturing and broadcasting camera frames.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00139">app.hpp:139</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a920eb334b2900034e980ed10e30e2e19"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a920eb334b2900034e980ed10e30e2e19">irsol::server::App::registerMessageHandlers</a></div><div class="ttdeci">void registerMessageHandlers()</div><div class="ttdoc">Registers standard message handlers.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00132">app.cpp:132</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab72d585f1aacd9b927a204a0de2c049e"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">irsol::server::App::m_cameraInterface</a></div><div class="ttdeci">std::unique_ptr&lt; camera::Interface &gt; m_cameraInterface</div><div class="ttdoc">Interface to the camera.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00136">app.hpp:136</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_aea70dd9a2207e836b59bd92c899d1d93"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">irsol::server::App::m_messageHandler</a></div><div class="ttdeci">std::unique_ptr&lt; handlers::MessageHandler &gt; m_messageHandler</div><div class="ttdoc">Central handler for processing protocol messages.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00142">app.hpp:142</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5e78a84334dc310a6012fc1288fb5e1d" name="a5e78a84334dc310a6012fc1288fb5e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e78a84334dc310a6012fc1288fb5e1d">&#9670;&#160;</a></span>addClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::addClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>clientId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#aa4bde0b5a91ffd9c2a272b8aebc64095">irsol::types::socket_t</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>sock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a new client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>Unique ID for the client. </td></tr>
    <tr><td class="paramname">sock</td><td>TCP socket for communication with the client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The new session is started on a separate thread. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00085">85</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>{</div>
<div class="line"><span class="lineno">   87</span>  <span class="keyword">auto</span> session = std::make_shared&lt;ClientSession&gt;(clientId, std::move(sock), *<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   88</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">   89</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(</div>
<div class="line"><span class="lineno">   90</span>    <span class="stringliteral">&quot;Registering new client connection from {} with id {}&quot;</span>,</div>
<div class="line"><span class="lineno">   91</span>    session-&gt;socket().address().to_string(),</div>
<div class="line"><span class="lineno">   92</span>    clientId);</div>
<div class="line"><span class="lineno">   93</span>  {</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.insert({clientId, session});</div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(</div>
<div class="line"><span class="lineno">   96</span>      <span class="stringliteral">&quot;Client {} added to session list, total clients: {}&quot;</span>, clientId, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.size());</div>
<div class="line"><span class="lineno">   97</span>  }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Starting client session thread for client with id {}&quot;</span>, clientId);</div>
<div class="line"><span class="lineno">  100</span>  std::thread([session, <span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Thread for client with ID {} started&quot;</span>, session-&gt;id());</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  104</span>      session-&gt;run();</div>
<div class="line"><span class="lineno">  105</span>    } <span class="keywordflow">catch</span>(std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  106</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a>(</div>
<div class="line"><span class="lineno">  107</span>        <span class="stringliteral">&quot;Error in client session thread for client with id {}: {}&quot;</span>, session-&gt;id(), e.what());</div>
<div class="line"><span class="lineno">  108</span>    }</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Thread for client with ID {} finished&quot;</span>, session-&gt;id());</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">removeClient</a>(session-&gt;id());</div>
<div class="line"><span class="lineno">  111</span>  })</div>
<div class="line"><span class="lineno">  112</span>    .detach();</div>
<div class="line"><span class="lineno">  113</span>}</div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ab61e4a18c68ab29e90f79d2724b2511c"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">irsol::server::App::m_clients</a></div><div class="ttdeci">client_map_t m_clients</div><div class="ttdoc">Map of connected clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00133">app.hpp:133</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ac6b7241370a0cdb0074a1aec0fd03ee5"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ac6b7241370a0cdb0074a1aec0fd03ee5">irsol::server::App::removeClient</a></div><div class="ttdeci">void removeClient(const irsol::types::client_id_t &amp;clientId)</div><div class="ttdoc">Removes a client session.</div><div class="ttdef"><b>Definition</b> <a href="../../d5/df2/app_8cpp_source.html#l00116">app.cpp:116</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_ad5f4d7bd76d883153b5e7435c10e4390"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">irsol::server::App::m_clientsMutex</a></div><div class="ttdeci">std::mutex m_clientsMutex</div><div class="ttdoc">Mutex for protecting access to m_clients.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00130">app.hpp:130</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga2c8ae9f0bc88357231bbe3c8e885103f"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a></div><div class="ttdeci">#define IRSOL_LOG_INFO(...)</div><div class="ttdoc">Logs an info-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00092">logging.hpp:92</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga5e2b978c0669a28cf95a8f91a667674a"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a></div><div class="ttdeci">#define IRSOL_LOG_ERROR(...)</div><div class="ttdoc">Logs an error-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00094">logging.hpp:94</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga85d5803f1f7fb99923cdac16d1dc2ee8"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a></div><div class="ttdeci">#define IRSOL_LOG_DEBUG(...)</div><div class="ttdoc">Logs a debug-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00091">logging.hpp:91</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a82a57dc3845931c5545de504eac102e0" name="a82a57dc3845931c5545de504eac102e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a57dc3845931c5545de504eac102e0">&#9670;&#160;</a></span>broadcastMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::broadcastMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dca/group__Protocol.html#ga9f9e0d98cc4cf09baf10d9a0f6e06f66">protocol::OutMessage</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::optional&lt; <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>excludeClient</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcasts a message to all connected clients. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>The message to send. </td></tr>
    <tr><td class="paramname">excludeClient</td><td>Optional client to exclude (e.g., the sender).</td></tr>
  </table>
  </dd>
</dl>
<p>This method is thread-safe and will skip the excluded client if specified. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>{</div>
<div class="line"><span class="lineno">   65</span>  <span class="comment">// Serialize the message only once, and distribute to all clients</span></div>
<div class="line"><span class="lineno">   66</span>  <span class="keyword">auto</span> serializedMessage = <a class="code hl_function" href="../../d1/d6f/classirsol_1_1protocol_1_1Serializer.html#a7fe9f605fe5148e891c113073990a9e5">irsol::protocol::Serializer::serialize</a>(std::move(message));</div>
<div class="line"><span class="lineno">   67</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Broadcasting serialized message {}&quot;</span>, serializedMessage.toString());</div>
<div class="line"><span class="lineno">   68</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>  <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [clientId, session] : <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>) {</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span>(excludeClient &amp;&amp; clientId == *excludeClient) {</div>
<div class="line"><span class="lineno">   72</span>      <span class="keywordflow">continue</span>;  <span class="comment">// Skip the sender if specified</span></div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   75</span>      std::scoped_lock&lt;std::mutex&gt; sessionLock(session-&gt;socketMutex());</div>
<div class="line"><span class="lineno">   76</span>      session-&gt;handleSerializedMessage(serializedMessage);</div>
<div class="line"><span class="lineno">   77</span>    } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; ex) {</div>
<div class="line"><span class="lineno">   78</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5ffc6d687ddca344c775b62c9d6e822f">IRSOL_LOG_WARN</a>(<span class="stringliteral">&quot;Failed to send broadcast to client {}: {}&quot;</span>, clientId, ex.what());</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span>  }</div>
<div class="line"><span class="lineno">   81</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Broadcasting complete.&quot;</span>);</div>
<div class="line"><span class="lineno">   82</span>}</div>
<div class="ttc" id="aclassirsol_1_1protocol_1_1Serializer_html_a7fe9f605fe5148e891c113073990a9e5"><div class="ttname"><a href="../../d1/d6f/classirsol_1_1protocol_1_1Serializer.html#a7fe9f605fe5148e891c113073990a9e5">irsol::protocol::Serializer::serialize</a></div><div class="ttdeci">static internal::SerializedMessage serialize(OutMessage &amp;&amp;msg)</div><div class="ttdoc">Serialize an irsol::protocol::OutMessage variant into a serialized protocol message.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d74/serializer_8cpp_source.html#l00013">serializer.cpp:13</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga5ffc6d687ddca344c775b62c9d6e822f"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga5ffc6d687ddca344c775b62c9d6e822f">IRSOL_LOG_WARN</a></div><div class="ttdeci">#define IRSOL_LOG_WARN(...)</div><div class="ttdoc">Logs a warning-level message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00093">logging.hpp:93</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d467f15aaac7fb128455f76e3aebf3b" name="a3d467f15aaac7fb128455f76e3aebf3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d467f15aaac7fb128455f76e3aebf3b">&#9670;&#160;</a></span>camera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a> &amp; irsol::server::App::camera </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor for the camera interface. </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the owned camera interface. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00096">96</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>  {</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab72d585f1aacd9b927a204a0de2c049e">m_cameraInterface</a>;</div>
<div class="line"><span class="lineno">   99</span>  };</div>
</div><!-- fragment -->
</div>
</div>
<a id="a740cd3948f39494ec70ffe96f7814c87" name="a740cd3948f39494ec70ffe96f7814c87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a740cd3948f39494ec70ffe96f7814c87">&#9670;&#160;</a></span>frameCollector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a> &amp; irsol::server::App::frameCollector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor for the frame collector. </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to the owned frame collector. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00105">105</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>  {</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>;</div>
<div class="line"><span class="lineno">  108</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77e659b496f5b52147e866441a9e79c0" name="a77e659b496f5b52147e866441a9e79c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77e659b496f5b52147e866441a9e79c0">&#9670;&#160;</a></span>getClientSession()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d2/d23/classirsol_1_1server_1_1ClientSession.html">ClientSession</a> &gt; irsol::server::App::getClientSession </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>clientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves an active client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>The unique ID of the client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer to the client session, or nullptr if not found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00053">53</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>{</div>
<div class="line"><span class="lineno">   55</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">   56</span>  <span class="keyword">auto</span>                         it = <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.find(clientId);</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordflow">return</span> it != <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.end() ? it-&gt;second : <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   58</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a488466726e84fb900a31d999986bc7a8" name="a488466726e84fb900a31d999986bc7a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488466726e84fb900a31d999986bc7a8">&#9670;&#160;</a></span>messageHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a> &amp; irsol::server::App::messageHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Accessor for the message handler. </p>
<dl class="section return"><dt>Returns</dt><dd>Const reference to the owned message handler. </dd></dl>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00114">114</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>  {</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">return</span> *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"><span class="lineno">  117</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acdda9ba4c2ae2a73e64fe3ec1fb528e6" name="acdda9ba4c2ae2a73e64fe3ec1fb528e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdda9ba4c2ae2a73e64fe3ec1fb528e6">&#9670;&#160;</a></span>registerLambdaHandler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InMessageT , typename LambdaT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::registerLambdaHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d4/d2c/structirsol_1_1server_1_1handlers_1_1Context.html">handlers::Context</a> &gt;&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LambdaT &amp;&amp;&#160;</td>
          <td class="paramname"><em>lambda</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a lambda-based message handler. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">InMessageT</td><td>Incoming message type. </td></tr>
    <tr><td class="paramname">LambdaT</td><td>Type of the lambda handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>Handler identifier. </td></tr>
    <tr><td class="paramname">ctx</td><td>Handler context. </td></tr>
    <tr><td class="paramname">lambda</td><td>Lambda function to invoke for the message.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p><div class="fragment"><div class="line">registerLambdaHandler&lt;protocol::Command&gt;(</div>
<div class="line">  <span class="stringliteral">&quot;custom_cmd&quot;</span>,</div>
<div class="line">  ctx,</div>
<div class="line">  [](std::shared_ptr&lt;handlers::Context&gt; ctx, <span class="keyword">const</span> <a class="code hl_typedef" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a>&amp; clientId,</div>
<div class="line"><a class="code hl_struct" href="../../d2/d10/structirsol_1_1protocol_1_1Command.html">protocol::Command</a>&amp;&amp; cmd) { <span class="keywordflow">return</span> std::vector&lt;protocol::OutMessage&gt;{...};</div>
<div class="line">  }</div>
<div class="line">);</div>
<div class="ttc" id="anamespaceirsol_1_1types_html_a1e34241919e241ec2f3f6b8c236f40ae"><div class="ttname"><a href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a></div><div class="ttdeci">std::string client_id_t</div><div class="ttdoc">Represents a unique client identifier. Typically used to identify connected clients by string IDs.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/de3/types_8hpp_source.html#l00055">types.hpp:55</a></div></div>
<div class="ttc" id="astructirsol_1_1protocol_1_1Command_html"><div class="ttname"><a href="../../d2/d10/structirsol_1_1protocol_1_1Command.html">irsol::protocol::Command</a></div><div class="ttdoc">Represents a command invocation in the protocol.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/dc7/command_8hpp_source.html#l00032">command.hpp:33</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00213">213</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>  {</div>
<div class="line"><span class="lineno">  218</span>    <span class="keyword">auto</span>  handler = <a class="code hl_function" href="../../d9/da2/namespaceirsol_1_1server_1_1handlers.html#a713fd41e924dce65decbd5f2b6284279">handlers::makeLambdaHandler&lt;InMessageT&gt;</a>(ctx, std::forward&lt;LambdaT&gt;(lambda));</div>
<div class="line"><span class="lineno">  219</span>    <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> = *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line"><span class="lineno">  222</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register lambda handler for identifier {}&quot;</span>, identifier);</div>
<div class="line"><span class="lineno">  223</span>      <span class="keywordflow">throw</span> std::runtime_error(</div>
<div class="line"><span class="lineno">  224</span>        <span class="stringliteral">&quot;Failed to register lambda handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  225</span>    }</div>
<div class="line"><span class="lineno">  226</span>  }</div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a488466726e84fb900a31d999986bc7a8"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">irsol::server::App::messageHandler</a></div><div class="ttdeci">const handlers::MessageHandler &amp; messageHandler() const</div><div class="ttdoc">Accessor for the message handler.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00114">app.hpp:114</a></div></div>
<div class="ttc" id="agroup__Logging_html_ga12a839278fd4290a53aa7b0f9f9263b5"><div class="ttname"><a href="../../d0/d58/group__Logging.html#ga12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a></div><div class="ttdeci">#define IRSOL_LOG_FATAL(...)</div><div class="ttdoc">Logs a fatal (critical) message using the default logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/da9/logging_8hpp_source.html#l00095">logging.hpp:95</a></div></div>
<div class="ttc" id="anamespaceirsol_1_1server_1_1handlers_html_a713fd41e924dce65decbd5f2b6284279"><div class="ttname"><a href="../../d9/da2/namespaceirsol_1_1server_1_1handlers.html#a713fd41e924dce65decbd5f2b6284279">irsol::server::handlers::makeHandler</a></div><div class="ttdeci">constexpr auto makeHandler(std::shared_ptr&lt; Context &gt; ctx, Args &amp;&amp;... args)</div><div class="ttdoc">Constructs a handler instance of the given type.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d2d/factory_8hpp_source.html#l00028">factory.hpp:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7daa71ab01c508418e0039f24e8016ed" name="a7daa71ab01c508418e0039f24e8016ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7daa71ab01c508418e0039f24e8016ed">&#9670;&#160;</a></span>registerMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InMessageT , typename HandlerT , typename... Args&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::registerMessageHandler </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identifier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers a message handler by type. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">InMessageT</td><td>Incoming message type. </td></tr>
    <tr><td class="paramname">HandlerT</td><td>Handler class for the message. </td></tr>
    <tr><td class="paramname">Args</td><td>Constructor arguments for the handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identifier</td><td>Message handler identifier string. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments to construct the handler.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p><div class="fragment"><div class="line">registerMessageHandler&lt;protocol::Command, handlers::CommandFRHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00182">182</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  183</span>  {</div>
<div class="line"><span class="lineno">  184</span>    <span class="keyword">auto</span>  handler        = <a class="code hl_function" href="../../d9/da2/namespaceirsol_1_1server_1_1handlers.html#a713fd41e924dce65decbd5f2b6284279">handlers::makeHandler&lt;HandlerT&gt;</a>(std::forward&lt;Args&gt;(args)...);</div>
<div class="line"><span class="lineno">  185</span>    <span class="keyword">auto</span>&amp; <a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a> = *<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#aea70dd9a2207e836b59bd92c899d1d93">m_messageHandler</a>;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../db/dc5/classirsol_1_1server_1_1App.html#a488466726e84fb900a31d999986bc7a8">messageHandler</a>.template registerHandler&lt;InMessageT&gt;(identifier, handler)) {</div>
<div class="line"><span class="lineno">  188</span>      <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga12a839278fd4290a53aa7b0f9f9263b5">IRSOL_LOG_FATAL</a>(<span class="stringliteral">&quot;Failed to register handler for identifier {}&quot;</span>, identifier);</div>
<div class="line"><span class="lineno">  189</span>      <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Failed to register handler for identifier &#39;&quot;</span> + identifier + <span class="stringliteral">&quot;&#39;&quot;</span>);</div>
<div class="line"><span class="lineno">  190</span>    }</div>
<div class="line"><span class="lineno">  191</span>  }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a920eb334b2900034e980ed10e30e2e19" name="a920eb334b2900034e980ed10e30e2e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a920eb334b2900034e980ed10e30e2e19">&#9670;&#160;</a></span>registerMessageHandlers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::registerMessageHandlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers standard message handlers. </p>
<p>Sets up the message handler registry with known message-handler mappings. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00132">132</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  133</span>{</div>
<div class="line"><span class="lineno">  134</span>  <span class="comment">// Build a context to pass to all handlers</span></div>
<div class="line"><span class="lineno">  135</span>  <span class="keyword">auto</span> ctx = std::make_shared&lt;irsol::server::handlers::Context&gt;(*<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>  <span class="comment">// Register message handlers for specific message types</span></div>
<div class="line"><span class="lineno">  138</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryFrameRateHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  139</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentFrameRateHandler&gt;(<span class="stringliteral">&quot;fr&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  140</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentInputSequenceLengthHandler&gt;(</div>
<div class="line"><span class="lineno">  141</span>    <span class="stringliteral">&quot;isl&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  142</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentIntegrationTimeHandler&gt;(</div>
<div class="line"><span class="lineno">  143</span>    <span class="stringliteral">&quot;it&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  144</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryIntegrationTimeHandler&gt;(<span class="stringliteral">&quot;it&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  145</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryInputSequenceLengthHandler&gt;(</div>
<div class="line"><span class="lineno">  146</span>    <span class="stringliteral">&quot;isl&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  147</span>  registerMessageHandler&lt;protocol::Command, handlers::CommandAbortHandler&gt;(<span class="stringliteral">&quot;abort&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  148</span>  registerMessageHandler&lt;protocol::Command, handlers::CommandGIHandler&gt;(<span class="stringliteral">&quot;gi&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  149</span>  registerMessageHandler&lt;protocol::Command, handlers::CommandGISHandler&gt;(<span class="stringliteral">&quot;gis&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  150</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgLeftHandler&gt;(<span class="stringliteral">&quot;img_l&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  151</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgTopHandler&gt;(<span class="stringliteral">&quot;img_t&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  152</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgWidthHandler&gt;(<span class="stringliteral">&quot;img_w&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  153</span>  registerMessageHandler&lt;protocol::Inquiry, handlers::InquiryImgHeightHandler&gt;(<span class="stringliteral">&quot;img_h&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  154</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgLeftHandler&gt;(<span class="stringliteral">&quot;img_l&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  155</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgTopHandler&gt;(<span class="stringliteral">&quot;img_t&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  156</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgWidthHandler&gt;(<span class="stringliteral">&quot;img_w&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  157</span>  registerMessageHandler&lt;protocol::Assignment, handlers::AssignmentImgHeightHandler&gt;(<span class="stringliteral">&quot;img_h&quot;</span>, ctx);</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>  registerLambdaHandler&lt;protocol::Command&gt;(</div>
<div class="line"><span class="lineno">  160</span>    <span class="stringliteral">&quot;image_data&quot;</span>,</div>
<div class="line"><span class="lineno">  161</span>    ctx,</div>
<div class="line"><span class="lineno">  162</span>    [](</div>
<div class="line"><span class="lineno">  163</span>      std::shared_ptr&lt;handlers::Context&gt;            ctx,</div>
<div class="line"><span class="lineno">  164</span>      std::shared_ptr&lt;irsol::server::ClientSession&gt; client,</div>
<div class="line"><span class="lineno">  165</span>      protocol::Command&amp;&amp;                           cmd) -&gt; std::vector&lt;protocol::OutMessage&gt; {</div>
<div class="line"><span class="lineno">  166</span>      std::vector&lt;protocol::OutMessage&gt; <a class="code hl_variable" href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a>;</div>
<div class="line"><span class="lineno">  167</span>      <span class="keyword">auto</span>&amp;                             cam = ctx-&gt;app.camera();</div>
<div class="line"><span class="lineno">  168</span>      <span class="keyword">auto</span>                              img = cam.captureImage(std::chrono::milliseconds(10000));</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>      <span class="keywordflow">if</span>(img.IsEmpty()) {</div>
<div class="line"><span class="lineno">  171</span>        IRSOL_NAMED_LOG_ERROR(client-&gt;id(), <span class="stringliteral">&quot;Failed to capture image.&quot;</span>);</div>
<div class="line"><span class="lineno">  172</span>        result.emplace_back(irsol::protocol::Error::from(cmd, <span class="stringliteral">&quot;Failed to capture image&quot;</span>));</div>
<div class="line"><span class="lineno">  173</span>        return result;</div>
<div class="line"><span class="lineno">  174</span>      }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>      uint32_t width    = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(img.GetWidth());</div>
<div class="line"><span class="lineno">  177</span>      uint32_t height   = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(img.GetHeight());</div>
<div class="line"><span class="lineno">  178</span>      <span class="keywordtype">size_t</span>   dataSize = img.GetSize();</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>      <span class="keyword">const</span> <span class="keywordtype">void</span>*                       imageBuffer = img.GetImageData();</div>
<div class="line"><span class="lineno">  181</span>      std::vector&lt;irsol::types::byte_t&gt; rawData(dataSize);</div>
<div class="line"><span class="lineno">  182</span>      memcpy(rawData.data(), imageBuffer, dataSize);</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>      <a class="code hl_variable" href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a>.emplace_back(</div>
<div class="line"><span class="lineno">  185</span>        <a class="code hl_struct" href="../../dd/d6d/structirsol_1_1protocol_1_1internal_1_1BinaryData.html">irsol::protocol::ImageBinaryData</a>(std::move(rawData), {height, width}, {}));</div>
<div class="line"><span class="lineno">  186</span>      <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a>;</div>
<div class="line"><span class="lineno">  187</span>    });</div>
<div class="line"><span class="lineno">  188</span>}</div>
<div class="ttc" id="astructirsol_1_1protocol_1_1internal_1_1BinaryData_html"><div class="ttname"><a href="../../dd/d6d/structirsol_1_1protocol_1_1internal_1_1BinaryData.html">irsol::protocol::internal::BinaryData</a></div><div class="ttdoc">Represents a binary data object within the protocol.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d2e/binary_8hpp_source.html#l00106">binary.hpp:107</a></div></div>
<div class="ttc" id="atest__error_8cpp_html_aede94e5895960e8807719a1a1abf9f43"><div class="ttname"><a href="../../d8/dbc/test__error_8cpp.html#aede94e5895960e8807719a1a1abf9f43">result</a></div><div class="ttdeci">auto result</div><div class="ttdef"><b>Definition</b> <a href="../../d8/dbc/test__error_8cpp_source.html#l00017">test_error.cpp:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6b7241370a0cdb0074a1aec0fd03ee5" name="ac6b7241370a0cdb0074a1aec0fd03ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6b7241370a0cdb0074a1aec0fd03ee5">&#9670;&#160;</a></span>removeClient()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::removeClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a1e34241919e241ec2f3f6b8c236f40ae">irsol::types::client_id_t</a> &amp;&#160;</td>
          <td class="paramname"><em>clientId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Removes a client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clientId</td><td>ID of the client to disconnect and clean up.</td></tr>
  </table>
  </dd>
</dl>
<p>This is typically called automatically when the client disconnects or times out. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00116">116</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  117</span>{</div>
<div class="line"><span class="lineno">  118</span>  std::scoped_lock&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ad5f4d7bd76d883153b5e7435c10e4390">m_clientsMutex</a>);</div>
<div class="line"><span class="lineno">  119</span>  <span class="keyword">auto</span>                         clientIt = <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.find(clientId);</div>
<div class="line"><span class="lineno">  120</span>  <span class="keywordflow">if</span>(clientIt == <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.end()) {</div>
<div class="line"><span class="lineno">  121</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a>(<span class="stringliteral">&quot;Client &#39;{}&#39; not found in session list&quot;</span>, clientId);</div>
<div class="line"><span class="lineno">  122</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  123</span>    <span class="keyword">auto</span> client = clientIt-&gt;second;</div>
<div class="line"><span class="lineno">  124</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>-&gt;deregisterClient(client-&gt;id());</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.erase(clientIt);</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(</div>
<div class="line"><span class="lineno">  127</span>      <span class="stringliteral">&quot;Client {} removed from session list, remaining clients: {}&quot;</span>, clientId, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#ab61e4a18c68ab29e90f79d2724b2511c">m_clients</a>.size());</div>
<div class="line"><span class="lineno">  128</span>  }</div>
<div class="line"><span class="lineno">  129</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fb6f6293e0934c50607bd4d3484ead6" name="a8fb6f6293e0934c50607bd4d3484ead6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb6f6293e0934c50607bd4d3484ead6">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool irsol::server::App::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the server. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the server starts successfully, false otherwise.</dd></dl>
<p>This starts the acceptor thread, initializes camera and message handlers, and prepares the system for client interaction. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00026">26</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   27</span>{</div>
<div class="line"><span class="lineno">   28</span>  <span class="keywordflow">if</span>(!<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>.<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ac34a488c77ed081884e301468d87d103">isOpen</a>()) {</div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga5e2b978c0669a28cf95a8f91a667674a">IRSOL_LOG_ERROR</a>(<span class="stringliteral">&quot;Failed to open acceptor on port {}: {}&quot;</span>, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">m_port</a>, <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>.<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#acd091ae1e5721a30b70638d0af919908">error</a>());</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   31</span>  }</div>
<div class="line"><span class="lineno">   32</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Starting accept thread&quot;</span>);</div>
<div class="line"><span class="lineno">   33</span>  <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a> = std::thread(&amp;<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ad6f5a0eba72fcf71da351c599ff402e3">internal::ClientSessionAcceptor::run</a>, &amp;<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>);</div>
<div class="line"><span class="lineno">   34</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Server started successfully&quot;</span>);</div>
<div class="line"><span class="lineno">   35</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   36</span>}</div>
<div class="ttc" id="aclassirsol_1_1server_1_1App_html_a4cde018a00938a5c940874d8469944be"><div class="ttname"><a href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">irsol::server::App::m_acceptThread</a></div><div class="ttdeci">std::thread m_acceptThread</div><div class="ttdoc">Thread running the connection acceptor loop.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2c/app_8hpp_source.html#l00127">app.hpp:127</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_ac34a488c77ed081884e301468d87d103"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ac34a488c77ed081884e301468d87d103">irsol::server::internal::ClientSessionAcceptor::isOpen</a></div><div class="ttdeci">bool isOpen() const</div><div class="ttdoc">Checks if the acceptor is actively listening.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00027">acceptor.cpp:27</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_acd091ae1e5721a30b70638d0af919908"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#acd091ae1e5721a30b70638d0af919908">irsol::server::internal::ClientSessionAcceptor::error</a></div><div class="ttdeci">std::string error() const</div><div class="ttdoc">Gets the current error message, if any.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00020">acceptor.cpp:20</a></div></div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_ad6f5a0eba72fcf71da351c599ff402e3"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#ad6f5a0eba72fcf71da351c599ff402e3">irsol::server::internal::ClientSessionAcceptor::run</a></div><div class="ttdeci">void run()</div><div class="ttdoc">Starts the accept loop.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00044">acceptor.cpp:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a7eab0392bb9b77fdaecf8cea61c771" name="a8a7eab0392bb9b77fdaecf8cea61c771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a7eab0392bb9b77fdaecf8cea61c771">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void irsol::server::App::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops the server. </p>
<p>Gracefully shuts down client sessions, stops the frame collector, and joins the acceptor thread. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/df2/app_8cpp_source.html#l00039">39</a> of file <a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Stopping server&quot;</span>);</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2fb7bb9c0a96f8585750770880181d12">m_acceptor</a>.<a class="code hl_function" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#a94ef12568141ee0a5e1b8aed41ef3b8e">stop</a>();</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a>.joinable()) {</div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga85d5803f1f7fb99923cdac16d1dc2ee8">IRSOL_LOG_DEBUG</a>(<span class="stringliteral">&quot;Joining accept thread&quot;</span>);</div>
<div class="line"><span class="lineno">   46</span>    <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a4cde018a00938a5c940874d8469944be">m_acceptThread</a>.join();</div>
<div class="line"><span class="lineno">   47</span>  }</div>
<div class="line"><span class="lineno">   48</span>  <a class="code hl_variable" href="../../db/dc5/classirsol_1_1server_1_1App.html#a73d8272bb6c2ddd147d1a4e37e76df61">m_frameCollector</a>-&gt;stop();</div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_define" href="../../d0/d58/group__Logging.html#ga2c8ae9f0bc88357231bbe3c8e885103f">IRSOL_LOG_INFO</a>(<span class="stringliteral">&quot;Server stopped&quot;</span>);</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="aclassirsol_1_1server_1_1internal_1_1ClientSessionAcceptor_html_a94ef12568141ee0a5e1b8aed41ef3b8e"><div class="ttname"><a href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html#a94ef12568141ee0a5e1b8aed41ef3b8e">irsol::server::internal::ClientSessionAcceptor::stop</a></div><div class="ttdeci">void stop()</div><div class="ttdoc">Stops the accept loop.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7e/acceptor_8cpp_source.html#l00033">acceptor.cpp:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2fb7bb9c0a96f8585750770880181d12" name="a2fb7bb9c0a96f8585750770880181d12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fb7bb9c0a96f8585750770880181d12">&#9670;&#160;</a></span>m_acceptor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/db5/classirsol_1_1server_1_1internal_1_1ClientSessionAcceptor.html">irsol::server::internal::ClientSessionAcceptor</a> irsol::server::App::m_acceptor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acceptor that handles incoming client connections. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00124">124</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="a4cde018a00938a5c940874d8469944be" name="a4cde018a00938a5c940874d8469944be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cde018a00938a5c940874d8469944be">&#9670;&#160;</a></span>m_acceptThread</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread irsol::server::App::m_acceptThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread running the connection acceptor loop. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00127">127</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="ab72d585f1aacd9b927a204a0de2c049e" name="ab72d585f1aacd9b927a204a0de2c049e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72d585f1aacd9b927a204a0de2c049e">&#9670;&#160;</a></span>m_cameraInterface</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/d37/classirsol_1_1camera_1_1Interface.html">camera::Interface</a>&gt; irsol::server::App::m_cameraInterface</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Interface to the camera. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00136">136</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="ab61e4a18c68ab29e90f79d2724b2511c" name="ab61e4a18c68ab29e90f79d2724b2511c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab61e4a18c68ab29e90f79d2724b2511c">&#9670;&#160;</a></span>m_clients</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html#a2ae5d9838d0487da826386234ff2f481">client_map_t</a> irsol::server::App::m_clients</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of connected clients. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00133">133</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="ad5f4d7bd76d883153b5e7435c10e4390" name="ad5f4d7bd76d883153b5e7435c10e4390"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f4d7bd76d883153b5e7435c10e4390">&#9670;&#160;</a></span>m_clientsMutex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex irsol::server::App::m_clientsMutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex for protecting access to m_clients. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00130">130</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="a73d8272bb6c2ddd147d1a4e37e76df61" name="a73d8272bb6c2ddd147d1a4e37e76df61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d8272bb6c2ddd147d1a4e37e76df61">&#9670;&#160;</a></span>m_frameCollector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../de/d26/classirsol_1_1server_1_1frame__collector_1_1FrameCollector.html">frame_collector::FrameCollector</a>&gt; irsol::server::App::m_frameCollector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Frame collector for capturing and broadcasting camera frames. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00139">139</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="aea70dd9a2207e836b59bd92c899d1d93" name="aea70dd9a2207e836b59bd92c899d1d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea70dd9a2207e836b59bd92c899d1d93">&#9670;&#160;</a></span>m_messageHandler</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d1/dbf/classirsol_1_1server_1_1handlers_1_1MessageHandler.html">handlers::MessageHandler</a>&gt; irsol::server::App::m_messageHandler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Central handler for processing protocol messages. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00142">142</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<a id="a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec" name="a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3ef4871e7ab1b9a5a1ad6ed61ee0ec">&#9670;&#160;</a></span>m_port</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d9/d2e/namespaceirsol_1_1types.html#a595cc75833b669dc425e067f776bee04">irsol::types::port_t</a> irsol::server::App::m_port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>TCP port on which the server listens. </p>

<p class="definition">Definition at line <a class="el" href="../../d6/d2c/app_8hpp_source.html#l00121">121</a> of file <a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/irsol/include/irsol/server/<a class="el" href="../../d6/d2c/app_8hpp_source.html">app.hpp</a></li>
<li>src/irsol/lib/irsol/server/<a class="el" href="../../d5/df2/app_8cpp_source.html">app.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/ddb/namespaceirsol.html">irsol</a></li><li class="navelem"><a class="el" href="../../d1/d03/namespaceirsol_1_1server.html">server</a></li><li class="navelem"><a class="el" href="../../db/dc5/classirsol_1_1server_1_1App.html">App</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
